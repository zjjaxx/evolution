{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "w83ukbNSXuC7VQUPJHgVP",
      "type": "rectangle",
      "x": -137.33611163948922,
      "y": -299.17255894827383,
      "width": 542.6600238439432,
      "height": 274.1283016413252,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAG",
      "roundness": {
        "type": 3
      },
      "seed": 46941529,
      "version": 714,
      "versionNonce": 1086521495,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Az4EmZKEkaugO0VTnYXxr"
        },
        {
          "id": "UXTe5mFEQsOaU9EBiQKaJ",
          "type": "arrow"
        }
      ],
      "updated": 1744727609855,
      "link": null,
      "locked": false
    },
    {
      "id": "Az4EmZKEkaugO0VTnYXxr",
      "type": "text",
      "x": -90.8060264753301,
      "y": -224.60840812761123,
      "width": 449.599853515625,
      "height": 125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAH",
      "roundness": null,
      "seed": 965662711,
      "version": 543,
      "versionNonce": 467981751,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744727609855,
      "link": null,
      "locked": false,
      "text": "// 每当rollup打包完成的时候回调closeBundle函数\n//生成预渲染HTML页面\n   async closeBundle() {\n      await generatePrerenderHtml(options);\n    },",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "w83ukbNSXuC7VQUPJHgVP",
      "originalText": "// 每当rollup打包完成的时候回调closeBundle函数\n//生成预渲染HTML页面\n   async closeBundle() {\n      await generatePrerenderHtml(options);\n    },",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Am-wyf2lRdWeP9Qy-UWpC",
      "type": "rectangle",
      "x": 635.5672061663819,
      "y": -364.4986153890815,
      "width": 866.169933887132,
      "height": 1420.3399982614158,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAJ",
      "roundness": {
        "type": 3
      },
      "seed": 669724793,
      "version": 664,
      "versionNonce": 376700921,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "UXTe5mFEQsOaU9EBiQKaJ",
          "type": "arrow"
        }
      ],
      "updated": 1744728821690,
      "link": null,
      "locked": false
    },
    {
      "id": "DZH2HWtskKV9NUZ_2fO9E",
      "type": "rectangle",
      "x": 720.8075956272912,
      "y": -332.8380152929518,
      "width": 703.4421607941885,
      "height": 92.31890478658534,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAK",
      "roundness": {
        "type": 3
      },
      "seed": 1789981369,
      "version": 223,
      "versionNonce": 87932601,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "1VvPY7HkI-tjx2tSixzUU"
        },
        {
          "id": "C8snMBuEHGqNx4pLET-uj",
          "type": "arrow"
        }
      ],
      "updated": 1744636608531,
      "link": null,
      "locked": false
    },
    {
      "id": "1VvPY7HkI-tjx2tSixzUU",
      "type": "text",
      "x": 845.078846922823,
      "y": -311.67856289965914,
      "width": 454.899658203125,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAL",
      "roundness": null,
      "seed": 1992713977,
      "version": 174,
      "versionNonce": 812089241,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636608531,
      "link": null,
      "locked": false,
      "text": "// 新建预渲染器 \n const prerenderer = new Prerenderer(options);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "DZH2HWtskKV9NUZ_2fO9E",
      "originalText": "// 新建预渲染器 \n const prerenderer = new Prerenderer(options);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "dBnVh2dyvq4p2Hi2hNaSY",
      "type": "rectangle",
      "x": 649.2483837076198,
      "y": -2473.2979661226464,
      "width": 2522.790227896319,
      "height": 1992.2847006396214,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAM",
      "roundness": {
        "type": 3
      },
      "seed": 1075225561,
      "version": 407,
      "versionNonce": 551991767,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645168063,
      "link": null,
      "locked": false
    },
    {
      "id": "w08Vpe-1uIgYgc6eWg3R5",
      "type": "rectangle",
      "x": 4101.597253738252,
      "y": -2554.572743040607,
      "width": 874.4952019283523,
      "height": 4007.2589944594934,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAT",
      "roundness": {
        "type": 3
      },
      "seed": 247520825,
      "version": 1791,
      "versionNonce": 1938412635,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745576564349,
      "link": null,
      "locked": false
    },
    {
      "id": "hUeoWV-0r1ycovc5iFFQc",
      "type": "rectangle",
      "x": 4149.783123640824,
      "y": -2381.1241635010206,
      "width": 630.1071230408043,
      "height": 235,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAV",
      "roundness": {
        "type": 3
      },
      "seed": 634695415,
      "version": 1135,
      "versionNonce": 2054945751,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "71J9t_eIpELh65tu6RTki"
        },
        {
          "id": "81nZfVg-r1ouRk_NuAs-A",
          "type": "arrow"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "71J9t_eIpELh65tu6RTki",
      "type": "text",
      "x": 4257.4868316456,
      "y": -2376.1241635010206,
      "width": 414.69970703125,
      "height": 225,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAW",
      "roundness": null,
      "seed": 1904821753,
      "version": 1149,
      "versionNonce": 56387831,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "// 构造函数 \n// 接收预渲染器\n// 起一个express服务\n// 获取父类的options\n   constructor (prerenderer: Prerenderer) {\n    this.prerenderer = prerenderer\n    this.expressServer = express()\n    this.options = prerenderer.getOptions()\n  }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "hUeoWV-0r1ycovc5iFFQc",
      "originalText": "// 构造函数 \n// 接收预渲染器\n// 起一个express服务\n// 获取父类的options\n   constructor (prerenderer: Prerenderer) {\n    this.prerenderer = prerenderer\n    this.expressServer = express()\n    this.options = prerenderer.getOptions()\n  }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "pgvY8FLYpuC_cM6eZ6-e5",
      "type": "rectangle",
      "x": 743.8400890734372,
      "y": -2308.3364598404205,
      "width": 824.629450396031,
      "height": 876.9166966025216,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAX",
      "roundness": {
        "type": 3
      },
      "seed": 1109917305,
      "version": 539,
      "versionNonce": 820752889,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "C8snMBuEHGqNx4pLET-uj",
          "type": "arrow"
        }
      ],
      "updated": 1744636405665,
      "link": null,
      "locked": false
    },
    {
      "id": "obNaPA5CZ_iq0y84dNpvD",
      "type": "rectangle",
      "x": 771.8649779552628,
      "y": -2174.274203940663,
      "width": 757.1054994330245,
      "height": 210,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAY",
      "roundness": {
        "type": 3
      },
      "seed": 1761818201,
      "version": 655,
      "versionNonce": 1557129049,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "-DoFMFMEXgYkHkbSenxqY"
        }
      ],
      "updated": 1744557310275,
      "link": null,
      "locked": false
    },
    {
      "id": "-DoFMFMEXgYkHkbSenxqY",
      "type": "text",
      "x": 885.1877777206032,
      "y": -2169.274203940663,
      "width": 530.4598999023438,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAZ",
      "roundness": null,
      "seed": 256840215,
      "version": 829,
      "versionNonce": 101160631,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744557310275,
      "link": null,
      "locked": false,
      "text": "    \n// 用JSONschema校验options\n// 比如APP服务的静态目录路径、回退的spa路径、\n// 服务的端口、host、代理的配置、自定义renderer渲染器\nvalidate(schema, options, {\n      name: PackageName,\n      baseDataPath: 'options',\n    })",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "obNaPA5CZ_iq0y84dNpvD",
      "originalText": "    \n// 用JSONschema校验options\n// 比如APP服务的静态目录路径、回退的spa路径、\n// 服务的端口、host、代理的配置、自定义renderer渲染器\nvalidate(schema, options, {\n      name: PackageName,\n      baseDataPath: 'options',\n    })",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "CBUCXV7p0jryZ0-aEVYh8",
      "type": "rectangle",
      "x": 772.6513297827022,
      "y": -1926.6266192414353,
      "width": 753.7181091509304,
      "height": 155.54369141793518,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAc",
      "roundness": {
        "type": 3
      },
      "seed": 1430872441,
      "version": 435,
      "versionNonce": 905996599,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Ih_NjaFoxeA3nma9HBOes"
        }
      ],
      "updated": 1744557392068,
      "link": null,
      "locked": false
    },
    {
      "id": "Ih_NjaFoxeA3nma9HBOes",
      "type": "text",
      "x": 889.2105491530892,
      "y": -1886.3547735324678,
      "width": 520.5996704101562,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAd",
      "roundness": null,
      "seed": 1770945591,
      "version": 308,
      "versionNonce": 700224759,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744557310275,
      "link": null,
      "locked": false,
      "text": "// 合并options和默认值  \nthis.options = deepMerge(defaultOptions, options) as\nPrerendererFinalOptions",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "CBUCXV7p0jryZ0-aEVYh8",
      "originalText": "// 合并options和默认值  \nthis.options = deepMerge(defaultOptions, options) as PrerendererFinalOptions",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Yjg7UYtdA-xoEGm3T22AR",
      "type": "rectangle",
      "x": 777.8200675545447,
      "y": -1736.8341578302818,
      "width": 753.2926886188669,
      "height": 168.62122907240382,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAe",
      "roundness": {
        "type": 3
      },
      "seed": 1676801945,
      "version": 357,
      "versionNonce": 1835263735,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "NbC1l3BXI9EL2Qil5Mq4C"
        },
        {
          "id": "81nZfVg-r1ouRk_NuAs-A",
          "type": "arrow"
        }
      ],
      "updated": 1744636112037,
      "link": null,
      "locked": false
    },
    {
      "id": "NbC1l3BXI9EL2Qil5Mq4C",
      "type": "text",
      "x": 1009.9865229479626,
      "y": -1677.52354329408,
      "width": 288.95977783203125,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAf",
      "roundness": null,
      "seed": 1688476087,
      "version": 284,
      "versionNonce": 1835851287,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744557310275,
      "link": null,
      "locked": false,
      "text": "// 新建一个本地服务器\nthis.server = new Server(this)",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Yjg7UYtdA-xoEGm3T22AR",
      "originalText": "// 新建一个本地服务器\nthis.server = new Server(this)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "zLt8R_AT149rggPabxsjq",
      "type": "text",
      "x": 788.0883657214517,
      "y": -2267.7816672668278,
      "width": 129.79998779296875,
      "height": 40.57346693265009,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAh",
      "roundness": null,
      "seed": 668228249,
      "version": 78,
      "versionNonce": 109782681,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636315657,
      "link": null,
      "locked": false,
      "text": "构造函数",
      "fontSize": 32.45877354612007,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "构造函数",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "D9BHLcJRUby0dGmgske7h",
      "type": "rectangle",
      "x": 724.0639178181373,
      "y": -216.35554257662363,
      "width": 712.2374017933778,
      "height": 136.96724606308624,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAi",
      "roundness": {
        "type": 3
      },
      "seed": 1621432089,
      "version": 144,
      "versionNonce": 2056734871,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "M9c_Qq6Ry633heIkt6FTC"
        },
        {
          "id": "txuMfv9loL37st1p4X_UO",
          "type": "arrow"
        }
      ],
      "updated": 1744644718962,
      "link": null,
      "locked": false
    },
    {
      "id": "M9c_Qq6Ry633heIkt6FTC",
      "type": "text",
      "x": 938.9626327529121,
      "y": -172.87191954508052,
      "width": 282.4399719238281,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAj",
      "roundness": null,
      "seed": 526044279,
      "version": 157,
      "versionNonce": 602938807,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744644718962,
      "link": null,
      "locked": false,
      "text": "// 调用预渲染器的初始化函数  \nprerenderer.initialize()",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "D9BHLcJRUby0dGmgske7h",
      "originalText": "// 调用预渲染器的初始化函数  \nprerenderer.initialize()",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "MuKwnKOvZnDJ-vGZwGaah",
      "type": "rectangle",
      "x": 742.5068320189002,
      "y": -1383.9207945340736,
      "width": 830.5801673928181,
      "height": 862.9718976667382,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAk",
      "roundness": {
        "type": 3
      },
      "seed": 2105109847,
      "version": 506,
      "versionNonce": 692166039,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "txuMfv9loL37st1p4X_UO",
          "type": "arrow"
        }
      ],
      "updated": 1744636397227,
      "link": null,
      "locked": false
    },
    {
      "id": "Y8xE1QqBkb1AsXHT1oMDS",
      "type": "rectangle",
      "x": 804.7313971952331,
      "y": -1285.6184989379526,
      "width": 733.8924410450334,
      "height": 371.704177542617,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAl",
      "roundness": {
        "type": 3
      },
      "seed": 445333207,
      "version": 208,
      "versionNonce": 1472639607,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "azx3dmREs8fgmvFK7R6yv"
        },
        {
          "id": "yQeR-DBqh-FJ3dUrAyG5X",
          "type": "arrow"
        }
      ],
      "updated": 1744638153903,
      "link": null,
      "locked": false
    },
    {
      "id": "azx3dmREs8fgmvFK7R6yv",
      "type": "text",
      "x": 851.5178581962654,
      "y": -1262.2664101666442,
      "width": 640.3195190429688,
      "height": 325,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAm",
      "roundness": null,
      "seed": 97130553,
      "version": 134,
      "versionNonce": 1178767991,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636390125,
      "link": null,
      "locked": false,
      "text": "// 初始化renderer实例   \nlet renderer: IRenderer\n    if (typeof this.options.renderer === 'string') {\n      const { default: RendererClass } = ((await\nimport(this.options.renderer)) as {default: RendererConstructor})\n      renderer = new RendererClass(this.options.rendererOptions)\n    } else if (typeof this.options.renderer === 'function') {\n      const RC = this.options.renderer as RendererConstructor\n      renderer = new RC(this.options.rendererOptions)\n    } else {\n      renderer = this.options.renderer\n    }\n    this.renderer = renderer",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Y8xE1QqBkb1AsXHT1oMDS",
      "originalText": "// 初始化renderer实例   \nlet renderer: IRenderer\n    if (typeof this.options.renderer === 'string') {\n      const { default: RendererClass } = ((await import(this.options.renderer)) as {default: RendererConstructor})\n      renderer = new RendererClass(this.options.rendererOptions)\n    } else if (typeof this.options.renderer === 'function') {\n      const RC = this.options.renderer as RendererConstructor\n      renderer = new RC(this.options.rendererOptions)\n    } else {\n      renderer = this.options.renderer\n    }\n    this.renderer = renderer",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "xCfb2ScXJ0VVOdHZ3efFP",
      "type": "rectangle",
      "x": 803.5348398701701,
      "y": -887.4440833118584,
      "width": 739.2540213357775,
      "height": 121.45944992494799,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAn",
      "roundness": {
        "type": 3
      },
      "seed": 1353898809,
      "version": 197,
      "versionNonce": 1379737529,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "yKsNgaNPjy5WXQXdtXLJ_"
        },
        {
          "id": "45tTmV06h5cJDgJDPdi_0",
          "type": "arrow"
        }
      ],
      "updated": 1744636388228,
      "link": null,
      "locked": false
    },
    {
      "id": "yKsNgaNPjy5WXQXdtXLJ_",
      "type": "text",
      "x": 1037.3519750497776,
      "y": -864.2143583493844,
      "width": 271.6197509765625,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAo",
      "roundness": null,
      "seed": 1272200951,
      "version": 108,
      "versionNonce": 1971062775,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636415110,
      "link": null,
      "locked": false,
      "text": "\n// 调用server的initialize方法\n await this.server.initialize()",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "xCfb2ScXJ0VVOdHZ3efFP",
      "originalText": "\n// 调用server的initialize方法\n await this.server.initialize()",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "FsxPtPwGJxvMoO_uI-w6p",
      "type": "rectangle",
      "x": 4156.766891401858,
      "y": -2103.9082202549266,
      "width": 629.6422463690838,
      "height": 3511.7701107707007,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAp",
      "roundness": {
        "type": 3
      },
      "seed": 387385817,
      "version": 1422,
      "versionNonce": 10146039,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "45tTmV06h5cJDgJDPdi_0",
          "type": "arrow"
        }
      ],
      "updated": 1744642178585,
      "link": null,
      "locked": false
    },
    {
      "id": "45tTmV06h5cJDgJDPdi_0",
      "type": "arrow",
      "x": 1550.0128146948896,
      "y": -791.0877070236512,
      "width": 2606.5618523833405,
      "height": 1630.4738030614171,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAq",
      "roundness": {
        "type": 2
      },
      "seed": 159260345,
      "version": 1713,
      "versionNonce": 1159961111,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744642178585,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          1654.88942514782,
          380.0642964530342
        ],
        [
          2606.5618523833405,
          -1250.4095066083828
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "xCfb2ScXJ0VVOdHZ3efFP",
        "focus": -0.3496855164939556,
        "gap": 7.479540994153525
      },
      "endBinding": {
        "elementId": "FsxPtPwGJxvMoO_uI-w6p",
        "focus": 0.9729522175869268,
        "gap": 1.0862312663552984
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "C8snMBuEHGqNx4pLET-uj",
      "type": "arrow",
      "x": 751.4173192015704,
      "y": -335.2107191855398,
      "width": 346.5893614141512,
      "height": 1985.4415614305935,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAs",
      "roundness": {
        "type": 2
      },
      "seed": 672444087,
      "version": 1988,
      "versionNonce": 1449534585,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636608531,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -346.5893614141512,
          -1966.7534304930257
        ],
        [
          -19.158704807312915,
          -1985.4415614305935
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "DZH2HWtskKV9NUZ_2fO9E",
        "focus": -0.8685676084095904,
        "gap": 14.516718582567137
      },
      "endBinding": {
        "elementId": "pgvY8FLYpuC_cM6eZ6-e5",
        "focus": 1.02808891841934,
        "gap": 5.696907598539838
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "txuMfv9loL37st1p4X_UO",
      "type": "arrow",
      "x": 1373.499097868822,
      "y": -217.3727845590527,
      "width": 180.17235541007585,
      "height": 302.85564406437675,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAu",
      "roundness": {
        "type": 2
      },
      "seed": 482304407,
      "version": 749,
      "versionNonce": 296832727,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744644718962,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          128.95620330025167,
          -168.9879778693813
        ],
        [
          -51.21615210982418,
          -302.85564406437675
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "D9BHLcJRUby0dGmgske7h",
        "focus": 0.5883742107323348,
        "gap": 5.096346370987362
      },
      "endBinding": {
        "elementId": "MuKwnKOvZnDJ-vGZwGaah",
        "focus": 0.418884549253259,
        "gap": 1
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "cuD5-Gk4tJ3Wdaox0ESCt",
      "type": "rectangle",
      "x": 801.350898676336,
      "y": -725.3727574685877,
      "width": 732.1466612938001,
      "height": 143.3878448302413,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAv",
      "roundness": {
        "type": 3
      },
      "seed": 138579929,
      "version": 192,
      "versionNonce": 49819321,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ZuL-O84D2qOniR26XVV1L"
        },
        {
          "id": "ZLnxYQORaCb3AJFS1_qe3",
          "type": "arrow"
        }
      ],
      "updated": 1744644793146,
      "link": null,
      "locked": false
    },
    {
      "id": "ZuL-O84D2qOniR26XVV1L",
      "type": "text",
      "x": 1025.1743208759704,
      "y": -678.678835053467,
      "width": 284.49981689453125,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAw",
      "roundness": null,
      "seed": 1341948407,
      "version": 117,
      "versionNonce": 1438707607,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636386245,
      "link": null,
      "locked": false,
      "text": "// 调用renderer的initialize方法\nawait this.renderer.initialize()",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "cuD5-Gk4tJ3Wdaox0ESCt",
      "originalText": "// 调用renderer的initialize方法\nawait this.renderer.initialize()",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "auDLQtZG3q0B1KCnPRYla",
      "type": "rectangle",
      "x": 4193.238568440554,
      "y": -2022.2041543640694,
      "width": 567.7523407903244,
      "height": 310,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAx",
      "roundness": {
        "type": 3
      },
      "seed": 122616183,
      "version": 901,
      "versionNonce": 1387312503,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "jTuVf4wvtb-KwNcmiBDP6"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "jTuVf4wvtb-KwNcmiBDP6",
      "type": "text",
      "x": 4205.114952458764,
      "y": -2017.2041543640694,
      "width": 543.9995727539062,
      "height": 300,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAy",
      "roundness": null,
      "seed": 1789003705,
      "version": 826,
      "versionNonce": 336129687,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "// 获取server、port端口\n// 如果有before回调事件，执行before   \nconst server = this.expressServer\n\n    const originalPort = this.options.server.port\n    this.options.server.port = this.options.server.port ||\nawait getPortPromise() || 13010\n\n    if (this.options.server && this.options.server.before)\n{\n      this.options.server.before(server)\n    }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "auDLQtZG3q0B1KCnPRYla",
      "originalText": "// 获取server、port端口\n// 如果有before回调事件，执行before   \nconst server = this.expressServer\n\n    const originalPort = this.options.server.port\n    this.options.server.port = this.options.server.port || await getPortPromise() || 13010\n\n    if (this.options.server && this.options.server.before) {\n      this.options.server.before(server)\n    }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "HTktMIGCen69WQUVDrPti",
      "type": "rectangle",
      "x": 4187.214123929521,
      "y": -1672.1775262661333,
      "width": 576.1260561789675,
      "height": 137.2840158927345,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bAz",
      "roundness": {
        "type": 3
      },
      "seed": 1893458327,
      "version": 872,
      "versionNonce": 742196151,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "RdaecEEjR_xCazEiL3fyv"
        },
        {
          "id": "hEAi8KiVhIZG8lsjbXnAZ",
          "type": "arrow"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "RdaecEEjR_xCazEiL3fyv",
      "type": "text",
      "x": 4266.157340007286,
      "y": -1628.5355183197662,
      "width": 418.2396240234375,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB0",
      "roundness": null,
      "seed": 1345295351,
      "version": 835,
      "versionNonce": 191984855,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "// 调用预渲染器的modifyserver方法\n  this.prerenderer.modifyServer('pre-static')",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "HTktMIGCen69WQUVDrPti",
      "originalText": "// 调用预渲染器的modifyserver方法\n  this.prerenderer.modifyServer('pre-static')",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "81nZfVg-r1ouRk_NuAs-A",
      "type": "arrow",
      "x": 1533.246888731654,
      "y": -1650.2561892424112,
      "width": 2610.617216192893,
      "height": 906.5583387002096,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB1",
      "roundness": {
        "type": 2
      },
      "seed": 1515954391,
      "version": 1978,
      "versionNonce": 580613015,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645165813,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          395.90058423721507,
          -906.5583387002096
        ],
        [
          2610.617216192893,
          -647.3235273004559
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Yjg7UYtdA-xoEGm3T22AR",
        "focus": 0.9185064752594114,
        "gap": 2.134132558242527
      },
      "endBinding": {
        "elementId": "hUeoWV-0r1ycovc5iFFQc",
        "focus": -0.02341412728999741,
        "gap": 5.919018716276696
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "j9FpQs7Gn628EzV_dNclq",
      "type": "rectangle",
      "x": 1769.1286083911689,
      "y": -2278.827069751392,
      "width": 907.2464224029457,
      "height": 330.22340935565376,
      "angle": 0,
      "strokeColor": "#e03131",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB3",
      "roundness": {
        "type": 3
      },
      "seed": 356103319,
      "version": 291,
      "versionNonce": 800520473,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "lKeCD4UkgBE-U6xI3Jvvl"
        },
        {
          "id": "hEAi8KiVhIZG8lsjbXnAZ",
          "type": "arrow"
        },
        {
          "id": "A7gkIrXxBIqn2oCyoCJLP",
          "type": "arrow"
        },
        {
          "id": "QbL-Mryh4k8RZ73EHLj9G",
          "type": "arrow"
        },
        {
          "id": "6n9Geu6LnqXF5NEKAzRUX",
          "type": "arrow"
        }
      ],
      "updated": 1744642245872,
      "link": null,
      "locked": false
    },
    {
      "id": "lKeCD4UkgBE-U6xI3Jvvl",
      "type": "text",
      "x": 1952.871997815298,
      "y": -2251.2153650735654,
      "width": 539.7596435546875,
      "height": 275,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB3V",
      "roundness": null,
      "seed": 105825239,
      "version": 229,
      "versionNonce": 2022442679,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636589015,
      "link": null,
      "locked": false,
      "text": "  \n// 如果渲染器有modifyServer方法，则执行\n// 批量执行pre-static hook回调 \n  modifyServer (stage: Stage) {\n    if (this.renderer.modifyServer) {\n      this.renderer.modifyServer(this, stage)\n    }\n    if (this.hooks[stage]) {\n      this.hooks[stage].forEach((cb) => cb(this.server))\n    }\n  }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "j9FpQs7Gn628EzV_dNclq",
      "originalText": "  \n// 如果渲染器有modifyServer方法，则执行\n// 批量执行pre-static hook回调 \n  modifyServer (stage: Stage) {\n    if (this.renderer.modifyServer) {\n      this.renderer.modifyServer(this, stage)\n    }\n    if (this.hooks[stage]) {\n      this.hooks[stage].forEach((cb) => cb(this.server))\n    }\n  }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "bNY_K0pp7WREbECKjTFNe",
      "type": "text",
      "x": 763.3110204758723,
      "y": -2426.0686098555557,
      "width": 360.59691509592625,
      "height": 80.99667606184262,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB5",
      "roundness": null,
      "seed": 1286389559,
      "version": 107,
      "versionNonce": 1045977977,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636330380,
      "link": null,
      "locked": false,
      "text": "Prerenderer",
      "fontSize": 64.79734084947412,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Prerenderer",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "W0kEGZMxA4U63Clx9_dHF",
      "type": "text",
      "x": 4182.704642725992,
      "y": -2515.9461264854904,
      "width": 211.68037291445603,
      "height": 178.42259320579154,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB6",
      "roundness": null,
      "seed": 1624550969,
      "version": 231,
      "versionNonce": 379415319,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "server\n",
      "fontSize": 71.36903728231663,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "server\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "yurC85YBF1s4guBA_iYoN",
      "type": "text",
      "x": 819.192156462713,
      "y": -1358.0258330023507,
      "width": 165.11691143805888,
      "height": 52.054569896995474,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB7",
      "roundness": null,
      "seed": 142501625,
      "version": 58,
      "versionNonce": 1115605529,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636400533,
      "link": null,
      "locked": false,
      "text": "initialize",
      "fontSize": 41.64365591759639,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "initialize",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "GXDmsJ_qEuGnKRuSE6j7g",
      "type": "text",
      "x": 4208.002386672586,
      "y": -2089.8769429736217,
      "width": 160.44889932474436,
      "height": 50.582937701866186,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB8",
      "roundness": null,
      "seed": 70708951,
      "version": 231,
      "versionNonce": 1343090743,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "initialize",
      "fontSize": 40.466350161493004,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "initialize",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hEAi8KiVhIZG8lsjbXnAZ",
      "type": "arrow",
      "x": 4186.2419406849385,
      "y": -1590.85203121283,
      "width": 1507.97943659785,
      "height": 572.5035151747572,
      "angle": 0,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bB9",
      "roundness": {
        "type": 2
      },
      "seed": 1324336727,
      "version": 276,
      "versionNonce": 691716599,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -1507.97943659785,
          -572.5035151747572
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "HTktMIGCen69WQUVDrPti",
        "focus": -0.687691362902784,
        "gap": 1
      },
      "endBinding": {
        "elementId": "j9FpQs7Gn628EzV_dNclq",
        "focus": -0.6597116398551354,
        "gap": 2.01043404680604
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "6uB7-JbnwbUHBvlF5x2Fj",
      "type": "rectangle",
      "x": 1820.1653403327896,
      "y": -255.9141078462742,
      "width": 1715.0283639409931,
      "height": 4766.9962555748425,
      "angle": 0,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBB",
      "roundness": {
        "type": 3
      },
      "seed": 490944729,
      "version": 453,
      "versionNonce": 1178473557,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745576208161,
      "link": null,
      "locked": false
    },
    {
      "id": "2i8WkBitUQKgiOWQDGQJ8",
      "type": "text",
      "x": 1902.7661234002517,
      "y": -201.74082773814996,
      "width": 423.5925298403894,
      "height": 76.31751458118902,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBD",
      "roundness": null,
      "seed": 665316345,
      "version": 70,
      "versionNonce": 1915701401,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636675502,
      "link": null,
      "locked": false,
      "text": "renderer渲染器",
      "fontSize": 61.05401166495121,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "renderer渲染器",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "o-lwXZidnwAcy415CwAbx",
      "type": "rectangle",
      "x": 1898.2285869393243,
      "y": -85.06395654438467,
      "width": 792.4550772446012,
      "height": 798.2945232143591,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBE",
      "roundness": {
        "type": 3
      },
      "seed": 975615577,
      "version": 313,
      "versionNonce": 397918391,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "BqYyWGRvJWXE38JEzJbES"
        },
        {
          "id": "yQeR-DBqh-FJ3dUrAyG5X",
          "type": "arrow"
        }
      ],
      "updated": 1744638153903,
      "link": null,
      "locked": false
    },
    {
      "id": "BqYyWGRvJWXE38JEzJbES",
      "type": "text",
      "x": 2002.7862647217812,
      "y": 114.08330506279486,
      "width": 583.3397216796875,
      "height": 400,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBEG",
      "roundness": null,
      "seed": 1482606583,
      "version": 275,
      "versionNonce": 1899608087,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744638117162,
      "link": null,
      "locked": false,
      "text": "// 用JSON schema校验options \n//合并options和默认值 \nconstructor (options: PuppeteerRendererOptions = {}) {\n    validate(schema, options, {\n      name: 'Renderer Puppeteer',\n      baseDataPath: 'options',\n    })\n    \n    this.options = deepMerge(defaultOptions, options) as\nPuppeteerRendererFinalOptions\n\n    if (options.renderAfterTime && this.options.timeout <\noptions.renderAfterTime) {\n      this.options.timeout = options.renderAfterTime + 1000\n    }\n  }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "o-lwXZidnwAcy415CwAbx",
      "originalText": "// 用JSON schema校验options \n//合并options和默认值 \nconstructor (options: PuppeteerRendererOptions = {}) {\n    validate(schema, options, {\n      name: 'Renderer Puppeteer',\n      baseDataPath: 'options',\n    })\n    \n    this.options = deepMerge(defaultOptions, options) as PuppeteerRendererFinalOptions\n\n    if (options.renderAfterTime && this.options.timeout < options.renderAfterTime) {\n      this.options.timeout = options.renderAfterTime + 1000\n    }\n  }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "6B0lupvaxeRu-HpTb_aPN",
      "type": "text",
      "x": 1954.6637588444175,
      "y": -51.96375818250283,
      "width": 152.199951171875,
      "height": 47.56382411998526,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBG",
      "roundness": null,
      "seed": 1619655863,
      "version": 93,
      "versionNonce": 1474085721,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744636798644,
      "link": null,
      "locked": false,
      "text": "构造函数",
      "fontSize": 38.05105929598821,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "构造函数",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "yQeR-DBqh-FJ3dUrAyG5X",
      "type": "arrow",
      "x": 1540.251827138456,
      "y": -940.4874007131633,
      "width": 350.32534959362874,
      "height": 870.5885038637417,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBJ",
      "roundness": {
        "type": 2
      },
      "seed": 1736642873,
      "version": 235,
      "versionNonce": 530811767,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744638154724,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          350.32534959362874,
          870.5885038637417
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Y8xE1QqBkb1AsXHT1oMDS",
        "focus": -0.6892853591474059,
        "gap": 1.8714508104672898
      },
      "endBinding": {
        "elementId": "o-lwXZidnwAcy415CwAbx",
        "focus": -0.4478166001798908,
        "gap": 10.054205219874179
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "ZD_e1zb1rAFkHY57JwQoq",
      "type": "rectangle",
      "x": 4179.615852516277,
      "y": -1519.6470372186545,
      "width": 585.1895064207047,
      "height": 408.57463484273984,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBL",
      "roundness": {
        "type": 3
      },
      "seed": 957090519,
      "version": 414,
      "versionNonce": 1332793687,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "kvg9PkU-4ozmuyItkqEqw"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "kvg9PkU-4ozmuyItkqEqw",
      "type": "text",
      "x": 4187.700779066473,
      "y": -1490.3597197972847,
      "width": 569.0196533203125,
      "height": 350,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBM",
      "roundness": null,
      "seed": 1445281433,
      "version": 406,
      "versionNonce": 1578798711,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "// 如果有options.proxy选项，则动态加载代理中间件代理path\nif (this.options.server && this.options.server.proxy) {\n      const proxy = this.options.server.proxy \n      await import('http-proxy-middleware').then(({\ncreateProxyMiddleware }) => {\n        Object.keys(proxy).forEach((proxyPath) =>\n          server.use(proxyPath, createProxyMiddleware({\nlogLevel: 'warn', ...proxy[proxyPath] })))\n      }).catch(() => {\n        throw new Error('The http-proxy-middleware module\ncould not be loaded, did you install it?')\n      })\n    }\n",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ZD_e1zb1rAFkHY57JwQoq",
      "originalText": "// 如果有options.proxy选项，则动态加载代理中间件代理path\nif (this.options.server && this.options.server.proxy) {\n      const proxy = this.options.server.proxy \n      await import('http-proxy-middleware').then(({ createProxyMiddleware }) => {\n        Object.keys(proxy).forEach((proxyPath) =>\n          server.use(proxyPath, createProxyMiddleware({ logLevel: 'warn', ...proxy[proxyPath] })))\n      }).catch(() => {\n        throw new Error('The http-proxy-middleware module could not be loaded, did you install it?')\n      })\n    }\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "c_98zfhw9kx3aVm-EVUaW",
      "type": "rectangle",
      "x": 4194.0549494593215,
      "y": -1080.8308537052094,
      "width": 558.846989069486,
      "height": 235.9977089883522,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBN",
      "roundness": {
        "type": 3
      },
      "seed": 380009015,
      "version": 313,
      "versionNonce": 651143063,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "T1Ns4lQ-VYeMGDEq0v69F"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "T1Ns4lQ-VYeMGDEq0v69F",
      "type": "text",
      "x": 4199.978627099533,
      "y": -1012.8319992110332,
      "width": 546.9996337890625,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBO",
      "roundness": null,
      "seed": 816622487,
      "version": 172,
      "versionNonce": 130325687,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": " ​//通过通配符 GET 路由托管静态资源\n    server.get('*', express.static(this.options.staticDir, {\n      dotfiles: 'allow',\n    }))",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "c_98zfhw9kx3aVm-EVUaW",
      "originalText": " ​//通过通配符 GET 路由托管静态资源\n    server.get('*', express.static(this.options.staticDir, {\n      dotfiles: 'allow',\n    }))",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Tgym1EzJ7UP7DXPTwkycV",
      "type": "rectangle",
      "x": 4189.5911668062545,
      "y": -582.8339017743956,
      "width": 578.6550245924664,
      "height": 210,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBP",
      "roundness": {
        "type": 3
      },
      "seed": 1075131385,
      "version": 534,
      "versionNonce": 614329815,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "N5wFu_JwU4SC-d069u_kC"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "N5wFu_JwU4SC-d069u_kC",
      "type": "text",
      "x": 4202.008889063425,
      "y": -577.8339017743956,
      "width": 553.819580078125,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBQ",
      "roundness": null,
      "seed": 1787373689,
      "version": 348,
      "versionNonce": 946871031,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "//当请求未匹配任何静态文件时，返回 index.html\n    server.get('*', (req, res) => {\n      res.sendFile(this.options.indexPath ?\npath.resolve(this.options.staticDir,\nthis.options.indexPath) : path.join(this.options.staticDir,\n'index.html'))\n    })\n",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Tgym1EzJ7UP7DXPTwkycV",
      "originalText": "//当请求未匹配任何静态文件时，返回 index.html\n    server.get('*', (req, res) => {\n      res.sendFile(this.options.indexPath ? path.resolve(this.options.staticDir, this.options.indexPath) : path.join(this.options.staticDir, 'index.html'))\n    })\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "5i8gAVOfrm9n5J2o8Ne6f",
      "type": "rectangle",
      "x": 4198.1343508283735,
      "y": -824.1075538707465,
      "width": 552.5852939589349,
      "height": 213.22001806145647,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBR",
      "roundness": {
        "type": 3
      },
      "seed": 683650935,
      "version": 305,
      "versionNonce": 666870807,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "bGPUHQofFrr99RojJKfO_"
        },
        {
          "id": "A7gkIrXxBIqn2oCyoCJLP",
          "type": "arrow"
        }
      ],
      "updated": 1744639397630,
      "link": null,
      "locked": false
    },
    {
      "id": "bGPUHQofFrr99RojJKfO_",
      "type": "text",
      "x": 4250.127193120341,
      "y": -767.4975448400182,
      "width": 448.599609375,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBS",
      "roundness": null,
      "seed": 1609235321,
      "version": 171,
      "versionNonce": 1384188215,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744639397630,
      "link": null,
      "locked": false,
      "text": "//调用预渲染器的modifyserver方法  \n this.prerenderer.modifyServer('post-static')\n\n    this.prerenderer.modifyServer('pre-fallback')",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5i8gAVOfrm9n5J2o8Ne6f",
      "originalText": "//调用预渲染器的modifyserver方法  \n this.prerenderer.modifyServer('post-static')\n\n    this.prerenderer.modifyServer('pre-fallback')",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "A7gkIrXxBIqn2oCyoCJLP",
      "type": "arrow",
      "x": 4197.202089700843,
      "y": -741.1054218128238,
      "width": 1510.9644782937062,
      "height": 1224.600610932671,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBT",
      "roundness": {
        "type": 2
      },
      "seed": 1887063255,
      "version": 528,
      "versionNonce": 1816892281,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645135473,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -643.2179201898534,
          -981.9899607778318
        ],
        [
          -1510.9644782937062,
          -1224.600610932671
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "5i8gAVOfrm9n5J2o8Ne6f",
        "focus": -0.7562652954230276,
        "gap": 1
      },
      "endBinding": {
        "elementId": "j9FpQs7Gn628EzV_dNclq",
        "focus": 0.0631116195448253,
        "gap": 11.63260248533078
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "Ado0bFMFg7krluLkKKQYq",
      "type": "rectangle",
      "x": 4198.084965276857,
      "y": -346.3392413650277,
      "width": 563.2551023693846,
      "height": 147.78462349318477,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBU",
      "roundness": {
        "type": 3
      },
      "seed": 2032212505,
      "version": 332,
      "versionNonce": 1042910457,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "c37z5aCp5as3M5io4cjWk"
        },
        {
          "id": "QbL-Mryh4k8RZ73EHLj9G",
          "type": "arrow"
        }
      ],
      "updated": 1744642205435,
      "link": null,
      "locked": false
    },
    {
      "id": "c37z5aCp5as3M5io4cjWk",
      "type": "text",
      "x": 4263.742698346315,
      "y": -309.9469296184353,
      "width": 431.93963623046875,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBUG",
      "roundness": null,
      "seed": 67526007,
      "version": 233,
      "versionNonce": 1866434009,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744642205435,
      "link": null,
      "locked": false,
      "text": "//调用预渲染器的modifyserver方法  \n\nthis.prerenderer.modifyServer('post-fallback')",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Ado0bFMFg7krluLkKKQYq",
      "originalText": "//调用预渲染器的modifyserver方法  \n\nthis.prerenderer.modifyServer('post-fallback')",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "QbL-Mryh4k8RZ73EHLj9G",
      "type": "arrow",
      "x": 4187.5116408228205,
      "y": -307.8766337506386,
      "width": 1609.0503585745555,
      "height": 1637.9637891555062,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBW",
      "roundness": {
        "type": 2
      },
      "seed": 1192018839,
      "version": 472,
      "versionNonce": 1332864569,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645140345,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -725.581844647747,
          -1333.2963380911326
        ],
        [
          -1609.0503585745555,
          -1637.9637891555062
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Ado0bFMFg7krluLkKKQYq",
        "focus": -0.8479993149125715,
        "gap": 10.573324454036083
      },
      "endBinding": {
        "elementId": "j9FpQs7Gn628EzV_dNclq",
        "focus": 0.14059350334939383,
        "gap": 2.763237489593621
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "z9J_DkKgm8HF781HJ23ym",
      "type": "rectangle",
      "x": 4198.421061279246,
      "y": -169.6791204825072,
      "width": 555.9205687049762,
      "height": 432.3390451264022,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBY",
      "roundness": {
        "type": 3
      },
      "seed": 687126999,
      "version": 147,
      "versionNonce": 449794745,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "rkmcZeurLh2tELZb_fwGG"
        }
      ],
      "updated": 1744639639832,
      "link": null,
      "locked": false
    },
    {
      "id": "rkmcZeurLh2tELZb_fwGG",
      "type": "text",
      "x": 4240.591504933492,
      "y": -103.50959791930609,
      "width": 471.5796813964844,
      "height": 300,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBZ",
      "roundness": null,
      "seed": 816116887,
      "version": 120,
      "versionNonce": 938267895,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744641072470,
      "link": null,
      "locked": false,
      "text": "//封装一个可关闭的Server启动函数 \n const serverPromise = () => new Promise<void>\n((resolve, reject) => {\n      this.nativeServer =\nstoppable(server.listen(this.options.server.port,\nthis.options.server.listenHost, () => {\n        resolve()\n      }))\n      this.nativeServer.on('error', (err: Error) => {\n        reject(err)\n      })\n    })",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "z9J_DkKgm8HF781HJ23ym",
      "originalText": "//封装一个可关闭的Server启动函数 \n const serverPromise = () => new Promise<void>((resolve, reject) => {\n      this.nativeServer = stoppable(server.listen(this.options.server.port, this.options.server.listenHost, () => {\n        resolve()\n      }))\n      this.nativeServer.on('error', (err: Error) => {\n        reject(err)\n      })\n    })",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "-1q-uFSnN2hVvLOgFiD4k",
      "type": "rectangle",
      "x": 4207.142414975164,
      "y": 296.4850838003846,
      "width": 528.915171171102,
      "height": 833.448916935574,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBa",
      "roundness": {
        "type": 3
      },
      "seed": 1671409017,
      "version": 172,
      "versionNonce": 1129322615,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "mkGut-NgjZZETuV-T2Q5p"
        }
      ],
      "updated": 1744642130442,
      "link": null,
      "locked": false
    },
    {
      "id": "mkGut-NgjZZETuV-T2Q5p",
      "type": "text",
      "x": 4213.47002619548,
      "y": 350.70954226817156,
      "width": 516.2599487304688,
      "height": 725,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBb",
      "roundness": null,
      "seed": 1539411959,
      "version": 137,
      "versionNonce": 1251273561,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744642176224,
      "link": null,
      "locked": false,
      "text": "// 启动服务，如果端口被占用，则自动换端口，尝试10次 \n  let i = 0\n    let success = false\n    let error: Error | null = null\n    while (!error && !success && i++ < 10) {\n      await serverPromise().then(() => {\n        if (originalPort && originalPort !==\nthis.options.server.port) {\n          console.warn(`The provided port\n(${originalPort}) is already in use, so port\n${this.options.server.port} was used instead`)\n        }\n        success = true\n      }).catch((e: Error) => {\n        if (/EADDRINUSE/.test(e.message)) {\n          return getPortPromise().then((port) => {\n            this.options.server.port = port\n          })\n        } else {\n          error = e\n        }\n      })\n    }\n    if (error) {\n      throw error\n    } else if (!success) {\n      throw new Error('The server could not initialize\nfor unknown reasons')\n    }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "-1q-uFSnN2hVvLOgFiD4k",
      "originalText": "// 启动服务，如果端口被占用，则自动换端口，尝试10次  \n  let i = 0\n    let success = false\n    let error: Error | null = null\n    while (!error && !success && i++ < 10) {\n      await serverPromise().then(() => {\n        if (originalPort && originalPort !== this.options.server.port) {\n          console.warn(`The provided port (${originalPort}) is already in use, so port ${this.options.server.port} was used instead`)\n        }\n        success = true\n      }).catch((e: Error) => {\n        if (/EADDRINUSE/.test(e.message)) {\n          return getPortPromise().then((port) => {\n            this.options.server.port = port\n          })\n        } else {\n          error = e\n        }\n      })\n    }\n    if (error) {\n      throw error\n    } else if (!success) {\n      throw new Error('The server could not initialize for unknown reasons')\n    }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "yUQbA3wfKYB74bBWhyRTQ",
      "type": "rectangle",
      "x": 4210.235334456651,
      "y": 1171.1348667577704,
      "width": 537.4223856854151,
      "height": 163.88602159450943,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBc",
      "roundness": {
        "type": 3
      },
      "seed": 1591530649,
      "version": 112,
      "versionNonce": 1108163417,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "4i0WpMKolTK2MJqjjamW9"
        },
        {
          "id": "6n9Geu6LnqXF5NEKAzRUX",
          "type": "arrow"
        }
      ],
      "updated": 1744642245871,
      "link": null,
      "locked": false
    },
    {
      "id": "4i0WpMKolTK2MJqjjamW9",
      "type": "text",
      "x": 4273.606714066937,
      "y": 1215.5778775550252,
      "width": 410.67962646484375,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBd",
      "roundness": null,
      "seed": 6646713,
      "version": 8,
      "versionNonce": 760780663,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744642209895,
      "link": null,
      "locked": false,
      "text": "//调用预渲染器的modifyserver方法  \n  \nthis.prerenderer.modifyServer('post-listen')",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "yUQbA3wfKYB74bBWhyRTQ",
      "originalText": "//调用预渲染器的modifyserver方法  \n  \nthis.prerenderer.modifyServer('post-listen')",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "6n9Geu6LnqXF5NEKAzRUX",
      "type": "arrow",
      "x": 4198.1434441709835,
      "y": 1195.7297189713472,
      "width": 1840.1937935521337,
      "height": 3146.539091130346,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBf",
      "roundness": {
        "type": 2
      },
      "seed": 41326583,
      "version": 744,
      "versionNonce": 375067577,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645175823,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -601.3364737499833,
          -2547.6298183104145
        ],
        [
          -1840.1937935521337,
          -3146.539091130346
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "yUQbA3wfKYB74bBWhyRTQ",
        "focus": -0.9278393972664986,
        "gap": 12.482345537426303
      },
      "endBinding": {
        "elementId": "j9FpQs7Gn628EzV_dNclq",
        "focus": 0.25375617456538363,
        "gap": 2.205711763260524
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "UXTe5mFEQsOaU9EBiQKaJ",
      "type": "arrow",
      "x": 406.7012875860207,
      "y": -166.76559183345827,
      "width": 224.93882610704236,
      "height": 0.9547537360452054,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBi",
      "roundness": {
        "type": 2
      },
      "seed": 183714999,
      "version": 746,
      "versionNonce": 1539545305,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744728821690,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          224.93882610704236,
          0.9547537360452054
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "w83ukbNSXuC7VQUPJHgVP",
        "focus": -0.042697822382823505,
        "gap": 1.5448856898657368
      },
      "endBinding": {
        "elementId": "Am-wyf2lRdWeP9Qy-UWpC",
        "focus": 0.7157507649387743,
        "gap": 7.506085762154953
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "LYKmUyU4jKAmLffYHEpUt",
      "type": "rectangle",
      "x": 1905.8555632576729,
      "y": 734.0286086556343,
      "width": 814.98344284631,
      "height": 701.7867395592777,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBk",
      "roundness": {
        "type": 3
      },
      "seed": 2017707063,
      "version": 361,
      "versionNonce": 159281241,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "ZLnxYQORaCb3AJFS1_qe3",
          "type": "arrow"
        }
      ],
      "updated": 1744730241914,
      "link": null,
      "locked": false
    },
    {
      "id": "_3ZeD6jIBV53fCbwM4EFt",
      "type": "rectangle",
      "x": 1967.2071457266889,
      "y": 820.6311835897928,
      "width": 684.3594853853801,
      "height": 261.403987293512,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBl",
      "roundness": {
        "type": 3
      },
      "seed": 1740226583,
      "version": 180,
      "versionNonce": 2088091097,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "RFUKExKMNwGALQdoVnYiI"
        }
      ],
      "updated": 1744644746154,
      "link": null,
      "locked": false
    },
    {
      "id": "RFUKExKMNwGALQdoVnYiI",
      "type": "text",
      "x": 2026.3371447670352,
      "y": 838.8331772365489,
      "width": 566.0994873046875,
      "height": 225,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBm",
      "roundness": null,
      "seed": 207971769,
      "version": 74,
      "versionNonce": 2056428217,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744644746154,
      "link": null,
      "locked": false,
      "text": "   // Workaround for Linux SUID Sandbox issues.\n    if (process.platform === 'linux') {\n      if (!this.options.args) this.options.args = []\n\n      if (this.options.args.indexOf('--no-sandbox') === -1) {\n        this.options.args.push('--no-sandbox')\n        this.options.args.push('--disable-setuid-sandbox')\n      }\n    }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "_3ZeD6jIBV53fCbwM4EFt",
      "originalText": "   // Workaround for Linux SUID Sandbox issues.\n    if (process.platform === 'linux') {\n      if (!this.options.args) this.options.args = []\n\n      if (this.options.args.indexOf('--no-sandbox') === -1) {\n        this.options.args.push('--no-sandbox')\n        this.options.args.push('--disable-setuid-sandbox')\n      }\n    }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "KAObUMRG4iqbgGGVKYhtC",
      "type": "rectangle",
      "x": 1963.8845279116767,
      "y": 1112.73574019355,
      "width": 677.4821029957776,
      "height": 231.9723014777278,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBn",
      "roundness": {
        "type": 3
      },
      "seed": 698240087,
      "version": 125,
      "versionNonce": 129074327,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "9bLYV3Afqk_9dag5JmtMZ"
        }
      ],
      "updated": 1744644795496,
      "link": null,
      "locked": false
    },
    {
      "id": "9bLYV3Afqk_9dag5JmtMZ",
      "type": "text",
      "x": 1973.5658259915967,
      "y": 1191.221890932414,
      "width": 658.1195068359375,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBo",
      "roundness": null,
      "seed": 1059315769,
      "version": 36,
      "versionNonce": 431680505,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744644831838,
      "link": null,
      "locked": false,
      "text": "// 启动浏览器\nthis.puppeteer = await puppeteer.launch({ headless: headless ? 'new'\n: false, args, ...(launchOptions || legacyOptions) })",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "KAObUMRG4iqbgGGVKYhtC",
      "originalText": "// 启动浏览器\nthis.puppeteer = await puppeteer.launch({ headless: headless ? 'new' : false, args, ...(launchOptions || legacyOptions) })",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "CenWzqMH617yTjwaB4Zh6",
      "type": "text",
      "x": 1967.0610411108996,
      "y": 746.1280112850243,
      "width": 197.2152625607306,
      "height": 62.17385960233994,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBq",
      "roundness": null,
      "seed": 1348733495,
      "version": 49,
      "versionNonce": 41750297,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744644734810,
      "link": null,
      "locked": false,
      "text": "initialize",
      "fontSize": 49.73908768187193,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "initialize",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ZLnxYQORaCb3AJFS1_qe3",
      "type": "arrow",
      "x": 1537.856616926251,
      "y": -600.4061623795972,
      "width": 372.0358948799096,
      "height": 1340.2400773853021,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBr",
      "roundness": {
        "type": 2
      },
      "seed": 251594359,
      "version": 368,
      "versionNonce": 2028010809,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744730241915,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          372.0358948799096,
          1340.2400773853021
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "cuD5-Gk4tJ3Wdaox0ESCt",
        "focus": -0.9213197445618532,
        "gap": 5.985146843458131
      },
      "endBinding": {
        "elementId": "LYKmUyU4jKAmLffYHEpUt",
        "focus": -0.609387171997529,
        "gap": 4.3850893984481445
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "En9vN6GgzWRapGw7qJz2w",
      "type": "rectangle",
      "x": 718.8693660094482,
      "y": -50.63009054650979,
      "width": 719.5896235343698,
      "height": 225.6704488230315,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBt",
      "roundness": {
        "type": 3
      },
      "seed": 773308729,
      "version": 81,
      "versionNonce": 182765209,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "kJmL9pBg0s1pZx2z0rF_x"
        },
        {
          "id": "dGufLKulU_hw91VbJ5WuY",
          "type": "arrow"
        }
      ],
      "updated": 1744727559693,
      "link": null,
      "locked": false
    },
    {
      "id": "kJmL9pBg0s1pZx2z0rF_x",
      "type": "text",
      "x": 810.3343437922581,
      "y": -12.794866134994038,
      "width": 536.65966796875,
      "height": 150,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBu",
      "roundness": null,
      "seed": 750066169,
      "version": 105,
      "versionNonce": 736706423,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744645105192,
      "link": null,
      "locked": false,
      "text": "// 调用预渲染器renderRoutes渲染页面\n .then(() => {\n      // List of routes to render.\n      const routes=options.routes.map(item=>item.path)\n      return prerenderer.renderRoutes(routes);\n    })",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "En9vN6GgzWRapGw7qJz2w",
      "originalText": "// 调用预渲染器renderRoutes渲染页面\n .then(() => {\n      // List of routes to render.\n      const routes=options.routes.map(item=>item.path)\n      return prerenderer.renderRoutes(routes);\n    })",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Du0r3SqaGxanWYfygFONp",
      "type": "rectangle",
      "x": 1767.356202080481,
      "y": -1779.4230742299744,
      "width": 1098.3139853926698,
      "height": 935.6928485043563,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBv",
      "roundness": {
        "type": 3
      },
      "seed": 2076949879,
      "version": 157,
      "versionNonce": 1311525337,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "cB-vnYjG4iWfmZh7W0_vR"
        },
        {
          "id": "dGufLKulU_hw91VbJ5WuY",
          "type": "arrow"
        },
        {
          "id": "GfMOvSVbvYI1aPn5RV3Rp",
          "type": "arrow"
        }
      ],
      "updated": 1744732492027,
      "link": null,
      "locked": false
    },
    {
      "id": "cB-vnYjG4iWfmZh7W0_vR",
      "type": "text",
      "x": 1773.243419386191,
      "y": -1599.0766499777963,
      "width": 1086.53955078125,
      "height": 575,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBw",
      "roundness": null,
      "seed": 1912181721,
      "version": 244,
      "versionNonce": 1173864793,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745067672295,
      "link": null,
      "locked": false,
      "text": "//  调用渲染器渲染路由页面， 返回路径和渲染好的HTML内容\n// 如果有postProcess钩子，执行处理HTML\n//  返回路径和渲染好的HTML内容\npublic renderRoutes (routes: string[]) {\n    return this.renderer.renderRoutes(routes, this)\n\n      .then(renderedRoutes => {\n        renderedRoutes.forEach(rendered => {\n          rendered.route = decodeURIComponent(rendered.route)\n        })\n        if (this.options.postProcess) {\n          const postProcess = this.options.postProcess.bind(this)\n\n          return Promise.all(renderedRoutes.map(renderedRoute => postProcess(renderedRoute,\nrenderedRoutes))).then(() => {\n            return renderedRoutes.filter((route) => typeof route === 'object' && route && typeof route.html ===\n'string' && route.html.length > 0)\n          })\n        }\n\n        return renderedRoutes\n      })\n  }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Du0r3SqaGxanWYfygFONp",
      "originalText": "//  调用渲染器渲染路由页面， 返回路径和渲染好的HTML内容\n// 如果有postProcess钩子，执行处理HTML\n//  返回路径和渲染好的HTML内容\npublic renderRoutes (routes: string[]) {\n    return this.renderer.renderRoutes(routes, this)\n\n      .then(renderedRoutes => {\n        renderedRoutes.forEach(rendered => {\n          rendered.route = decodeURIComponent(rendered.route)\n        })\n        if (this.options.postProcess) {\n          const postProcess = this.options.postProcess.bind(this)\n\n          return Promise.all(renderedRoutes.map(renderedRoute => postProcess(renderedRoute, renderedRoutes))).then(() => {\n            return renderedRoutes.filter((route) => typeof route === 'object' && route && typeof route.html === 'string' && route.html.length > 0)\n          })\n        }\n\n        return renderedRoutes\n      })\n  }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "dGufLKulU_hw91VbJ5WuY",
      "type": "arrow",
      "x": 1427.8891639762414,
      "y": -42.46495773813774,
      "width": 350.49433997412916,
      "height": 805.7066685644978,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBx",
      "roundness": {
        "type": 2
      },
      "seed": 1635544439,
      "version": 223,
      "versionNonce": 1144118681,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744727560244,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          350.49433997412916,
          -805.7066685644978
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "En9vN6GgzWRapGw7qJz2w",
        "focus": 0.7427413645023042,
        "gap": 1.8643154809038598
      },
      "endBinding": {
        "elementId": "Du0r3SqaGxanWYfygFONp",
        "focus": 0.44712617108359287,
        "gap": 1
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "Ois9bhwCqQsqcTuQJHR2c",
      "type": "rectangle",
      "x": 711.7468936405994,
      "y": 222.45918128617586,
      "width": 720.5495298557066,
      "height": 726.2909703472334,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bBz",
      "roundness": {
        "type": 3
      },
      "seed": 916834615,
      "version": 189,
      "versionNonce": 1203078999,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "DCSnXoPmkkZrkYwsOnXmF"
        }
      ],
      "updated": 1744729760469,
      "link": null,
      "locked": false
    },
    {
      "id": "DCSnXoPmkkZrkYwsOnXmF",
      "type": "text",
      "x": 736.3218599844683,
      "y": 248.10466645979255,
      "width": 671.3995971679688,
      "height": 675,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC0",
      "roundness": null,
      "seed": 1608801593,
      "version": 164,
      "versionNonce": 328201177,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744729811924,
      "link": null,
      "locked": false,
      "text": "// 批量生成预渲染的HTML文件到指定的目录   \n .then((renderedRoutes) => {\n      // renderedRoutes is an array of objects in the format:\n      // {\n      //   route: String (The route rendered)\n      //   html: String (The resulting HTM L)\n      // }\n      renderedRoutes.forEach((renderedRoute) => {\n        try {\n          // A smarter implementation would be required, but this does\nokay for an example.\n          // Don't copy this directly!!!\n          const outputDir =\npath.join(options.staticDir,renderedRoute.route);\n          const outputFile = `${outputDir}/index.html`;\n\n          mkdirp.sync(outputDir);\n          fs.writeFileSync(outputFile, renderedRoute.html.trim());\n        } catch (e) {\n          console.log(\"error\",e)\n          // Handle errors.\n        }\n      });\n\n      // Shut down the file server and renderer.\n      return prerenderer.destroy();\n    })",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Ois9bhwCqQsqcTuQJHR2c",
      "originalText": "// 批量生成预渲染的HTML文件到指定的目录   \n .then((renderedRoutes) => {\n      // renderedRoutes is an array of objects in the format:\n      // {\n      //   route: String (The route rendered)\n      //   html: String (The resulting HTM L)\n      // }\n      renderedRoutes.forEach((renderedRoute) => {\n        try {\n          // A smarter implementation would be required, but this does okay for an example.\n          // Don't copy this directly!!!\n          const outputDir = path.join(options.staticDir,renderedRoute.route);\n          const outputFile = `${outputDir}/index.html`;\n\n          mkdirp.sync(outputDir);\n          fs.writeFileSync(outputFile, renderedRoute.html.trim());\n        } catch (e) {\n          console.log(\"error\",e)\n          // Handle errors.\n        }\n      });\n\n      // Shut down the file server and renderer.\n      return prerenderer.destroy();\n    })",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "5AY2MAhe-NwI6ImuJMmcH",
      "type": "rectangle",
      "x": 2780.617348782674,
      "y": -63.876805045681465,
      "width": 694.7295291628511,
      "height": 549.4109478179373,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC1",
      "roundness": {
        "type": 3
      },
      "seed": 858528823,
      "version": 292,
      "versionNonce": 2144309913,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Oxf1m624N9PjzJhpWF-3S"
        },
        {
          "id": "GfMOvSVbvYI1aPn5RV3Rp",
          "type": "arrow"
        }
      ],
      "updated": 1744732671655,
      "link": null,
      "locked": false
    },
    {
      "id": "Oxf1m624N9PjzJhpWF-3S",
      "type": "text",
      "x": 2790.0823025730842,
      "y": -39.17133113671281,
      "width": 675.7996215820312,
      "height": 500,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC2",
      "roundness": null,
      "seed": 731253303,
      "version": 404,
      "versionNonce": 1163122553,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744732671655,
      "link": null,
      "locked": false,
      "text": "// 获取预渲染器options  \n// 拼接完整的URL \n//如果有options.maxConcurrentRoutes并发限制则控制并发\n// 并发调用getPageContent获取预渲染HTML内容\nrenderRoutes (routes: Array<string>, prerenderer: Prerenderer) {\n    const rootOptions = prerenderer.getOptions()\n\n    const baseURL =\n`http://${rootOptions.server.host}:${rootOptions.server.port}`\n\n    const limiter = promiseLimit<RenderedRoute>\n(this.options.maxConcurrentRoutes)\n\n    return Promise.all(\n      routes.map(\n        (route) => limiter(() => this.getPageContent(baseURL, route)),\n      ),\n    )\n  }\n",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5AY2MAhe-NwI6ImuJMmcH",
      "originalText": "// 获取预渲染器options  \n// 拼接完整的URL \n//如果有options.maxConcurrentRoutes并发限制则控制并发\n// 并发调用getPageContent获取预渲染HTML内容\nrenderRoutes (routes: Array<string>, prerenderer: Prerenderer) {\n    const rootOptions = prerenderer.getOptions()\n\n    const baseURL = `http://${rootOptions.server.host}:${rootOptions.server.port}`\n\n    const limiter = promiseLimit<RenderedRoute>(this.options.maxConcurrentRoutes)\n\n    return Promise.all(\n      routes.map(\n        (route) => limiter(() => this.getPageContent(baseURL, route)),\n      ),\n    )\n  }\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "NbEuPyluT297lHeVVeVnB",
      "type": "rectangle",
      "x": 2790.2921015834963,
      "y": 549.0250794514253,
      "width": 691.7639835640257,
      "height": 3909.4183156542485,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC3",
      "roundness": {
        "type": 3
      },
      "seed": 1525301081,
      "version": 535,
      "versionNonce": 1737052475,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745576549148,
      "link": null,
      "locked": false
    },
    {
      "id": "GfMOvSVbvYI1aPn5RV3Rp",
      "type": "arrow",
      "x": 2858.2560772279,
      "y": -849.3151068881069,
      "width": 106.47729173758034,
      "height": 780.3234559022904,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC4",
      "roundness": {
        "type": 2
      },
      "seed": 1913007703,
      "version": 108,
      "versionNonce": 1606189145,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744732671655,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          106.47729173758034,
          780.3234559022904
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Du0r3SqaGxanWYfygFONp",
        "focus": -0.7804395308337833,
        "gap": 2.1763993317909436
      },
      "endBinding": {
        "elementId": "5AY2MAhe-NwI6ImuJMmcH",
        "focus": -0.3249733312438375,
        "gap": 8.215011716681659
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "d7zgQNPG_tU44k0ODnhR4",
      "type": "rectangle",
      "x": 2837.946235078414,
      "y": 633.2112120323947,
      "width": 574.8639262064803,
      "height": 179.34619222869605,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC5",
      "roundness": {
        "type": 3
      },
      "seed": 1560261943,
      "version": 205,
      "versionNonce": 801678935,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "fRhe5Ye6h8N84deM_l7av"
        }
      ],
      "updated": 1744732998924,
      "link": null,
      "locked": false
    },
    {
      "id": "fRhe5Ye6h8N84deM_l7av",
      "type": "text",
      "x": 2891.8983703007943,
      "y": 672.8843081467427,
      "width": 466.95965576171875,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC6",
      "roundness": null,
      "seed": 742115383,
      "version": 149,
      "versionNonce": 1857012599,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744732998924,
      "link": null,
      "locked": false,
      "text": "// 获取渲染器的options\n// 新建标签页    \nconst options = this.options\n    const page = await this.puppeteer.newPage()",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "d7zgQNPG_tU44k0ODnhR4",
      "originalText": "// 获取渲染器的options\n// 新建标签页    \nconst options = this.options\n    const page = await this.puppeteer.newPage()",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "eAUZ2vAnqxX1dFkM8mP3N",
      "type": "text",
      "x": 2834.5148653991473,
      "y": 564.8825681375318,
      "width": 241.4369930513066,
      "height": 38.226277027259215,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC7",
      "roundness": null,
      "seed": 610521849,
      "version": 64,
      "versionNonce": 1527822743,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1744732681213,
      "link": null,
      "locked": false,
      "text": "getPageContent",
      "fontSize": 30.581021621807373,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "getPageContent",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "EyUPDrjxt0qHE56ybIjMf",
      "type": "rectangle",
      "x": 2839.3882265173615,
      "y": 843.771446093253,
      "width": 587.094728712711,
      "height": 189.75401741965175,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC8",
      "roundness": {
        "type": 3
      },
      "seed": 56193685,
      "version": 121,
      "versionNonce": 1927788347,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "yK4Zb9W2-I31ZgAJj-m4H"
        }
      ],
      "updated": 1745573817959,
      "link": null,
      "locked": false
    },
    {
      "id": "yK4Zb9W2-I31ZgAJj-m4H",
      "type": "text",
      "x": 2845.7057019577014,
      "y": 851.1484548030788,
      "width": 574.4597778320312,
      "height": 175,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bC9",
      "roundness": null,
      "seed": 1452572213,
      "version": 185,
      "versionNonce": 1292048347,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745573817959,
      "link": null,
      "locked": false,
      "text": "// 如果有options.consoleHandler，则把当前页的console回调信\n息传出\nif (options.consoleHandler) {\n        const handler = options.consoleHandler;\n        page.on(\"console\", (message) => handler(route,\nmessage));\n      }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "EyUPDrjxt0qHE56ybIjMf",
      "originalText": "// 如果有options.consoleHandler，则把当前页的console回调信息传出\nif (options.consoleHandler) {\n        const handler = options.consoleHandler;\n        page.on(\"console\", (message) => handler(route, message));\n      }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "CizC5lCg_d2skLQfi4HE3",
      "type": "rectangle",
      "x": 2844.108821367936,
      "y": 1071.9780409072525,
      "width": 591.3746471647041,
      "height": 374.2785867611197,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCA",
      "roundness": {
        "type": 3
      },
      "seed": 522014075,
      "version": 92,
      "versionNonce": 707414421,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "q38F5idHsghdzjSWckBrS"
        }
      ],
      "updated": 1745573879501,
      "link": null,
      "locked": false
    },
    {
      "id": "q38F5idHsghdzjSWckBrS",
      "type": "text",
      "x": 2855.7662377237257,
      "y": 1084.1173342878124,
      "width": 568.059814453125,
      "height": 350,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCB",
      "roundness": null,
      "seed": 333683285,
      "version": 304,
      "versionNonce": 1391448699,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745574052056,
      "link": null,
      "locked": false,
      "text": "// 在新打开的页面中注入__inPuppeteer__表示在puppeteer中\n// 如果有 options.inject，则在window上注入传入的key为\noptions.injectProperty和value为options.inject对象\nawait page.evaluateOnNewDocument(\n        `(function () { window.__inPuppeteer__= true; })\n();`\n      );\n      if (options.inject) {\n        await page.evaluateOnNewDocument(\n          `(function () { window['${\n            options.injectProperty\n          }'] = ${JSON.stringify(options.inject)}; })();`\n        );\n      }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "CizC5lCg_d2skLQfi4HE3",
      "originalText": "// 在新打开的页面中注入__inPuppeteer__表示在puppeteer中\n// 如果有 options.inject，则在window上注入传入的key为options.injectProperty和value为options.inject对象\nawait page.evaluateOnNewDocument(\n        `(function () { window.__inPuppeteer__= true; })();`\n      );\n      if (options.inject) {\n        await page.evaluateOnNewDocument(\n          `(function () { window['${\n            options.injectProperty\n          }'] = ${JSON.stringify(options.inject)}; })();`\n        );\n      }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "E0laNxckTCEt9gyFxbS-8",
      "type": "rectangle",
      "x": 2846.199519640918,
      "y": 1470.0984827411326,
      "width": 599.9061165504186,
      "height": 134.87889113127744,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCC",
      "roundness": {
        "type": 3
      },
      "seed": 2141807669,
      "version": 60,
      "versionNonce": 1804845211,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "gaxyi9i7J2By0hUJvrGuC"
        }
      ],
      "updated": 1745574119514,
      "link": null,
      "locked": false
    },
    {
      "id": "gaxyi9i7J2By0hUJvrGuC",
      "type": "text",
      "x": 2913.1526389512837,
      "y": 1500.0379283067714,
      "width": 465.9998779296875,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCD",
      "roundness": null,
      "seed": 399967163,
      "version": 80,
      "versionNonce": 1835309915,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745574113593,
      "link": null,
      "locked": false,
      "text": "// 如果有options.viewport，则设置新开的页面视口\nif (options.viewport) await\npage.setViewport(options.viewport);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "E0laNxckTCEt9gyFxbS-8",
      "originalText": "// 如果有options.viewport，则设置新开的页面视口\nif (options.viewport) await page.setViewport(options.viewport);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "UTyWF-4w-w3v3lxLoSBFg",
      "type": "rectangle",
      "x": 2849.5385009312054,
      "y": 1638.5425082719069,
      "width": 601.5602516005806,
      "height": 180.40616956661597,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCE",
      "roundness": {
        "type": 3
      },
      "seed": 826230491,
      "version": 93,
      "versionNonce": 980805339,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "cw_0Eqg51c7jX-fYjGhK5"
        }
      ],
      "updated": 1745574328030,
      "link": null,
      "locked": false
    },
    {
      "id": "cw_0Eqg51c7jX-fYjGhK5",
      "type": "text",
      "x": 2862.168785422902,
      "y": 1678.7455930552148,
      "width": 576.2996826171875,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCF",
      "roundness": null,
      "seed": 652806747,
      "version": 144,
      "versionNonce": 1315591035,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745574328030,
      "link": null,
      "locked": false,
      "text": "// 拦截页面中的请求，如果配置了\nthis.options.skipThirdPartyRequests，则会拦截不是该域名下\n的请求c\nawait this.handleRequestInterception(page, baseURL);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "UTyWF-4w-w3v3lxLoSBFg",
      "originalText": "// 拦截页面中的请求，如果配置了this.options.skipThirdPartyRequests，则会拦截不是该域名下的请求c\nawait this.handleRequestInterception(page, baseURL);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "KhmU0D6a0CNUXdoxI--3B",
      "type": "rectangle",
      "x": 2850.7008288998168,
      "y": 1853.1468138871958,
      "width": 604.6904426592891,
      "height": 181.24697921701295,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCG",
      "roundness": {
        "type": 3
      },
      "seed": 1409774555,
      "version": 93,
      "versionNonce": 371647803,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "rFfO7J5Bx-lc7z9NgTfop"
        }
      ],
      "updated": 1745574345615,
      "link": null,
      "locked": false
    },
    {
      "id": "rFfO7J5Bx-lc7z9NgTfop",
      "type": "text",
      "x": 2889.546263852508,
      "y": 1906.2703034957021,
      "width": 526.9995727539062,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCH",
      "roundness": null,
      "seed": 248740501,
      "version": 64,
      "versionNonce": 729961109,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745574695361,
      "link": null,
      "locked": false,
      "text": "// 如果有options.pageSetup，则回调options.pageSetup\noptions.pageSetup && (await options.pageSetup(page,\nroute));",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "KhmU0D6a0CNUXdoxI--3B",
      "originalText": "// 如果有options.pageSetup，则回调options.pageSetup\noptions.pageSetup && (await options.pageSetup(page, route));",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "pGGKuiSpXODOsyLTvM7hq",
      "type": "rectangle",
      "x": 2846.443087362176,
      "y": 2061.880314162191,
      "width": 612.3530753654104,
      "height": 235,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCI",
      "roundness": {
        "type": 3
      },
      "seed": 1706408571,
      "version": 58,
      "versionNonce": 286055227,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "v0ug4MmT8Ddt6RNpxU7if"
        }
      ],
      "updated": 1745575017810,
      "link": null,
      "locked": false
    },
    {
      "id": "v0ug4MmT8Ddt6RNpxU7if",
      "type": "text",
      "x": 2858.839778853475,
      "y": 2066.880314162191,
      "width": 587.5596923828125,
      "height": 225,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCJ",
      "roundness": null,
      "seed": 1587735483,
      "version": 134,
      "versionNonce": 1280669275,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745575021602,
      "link": null,
      "locked": false,
      "text": "// 如果有options.renderAfterDocumentEvent，则添加监听\noptions.renderAfterDocumentEvent事件，如果\nrenderAfterDocumentEvent触发，则\nwindow.__PRERENDER_STATUS._DOCUMENT_EVENT_RE\nSOLVED=true\nif (options.renderAfterDocumentEvent) {\n        await page.evaluateOnNewDocument(listenForRender,\noptions);\n      }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "pGGKuiSpXODOsyLTvM7hq",
      "originalText": "// 如果有options.renderAfterDocumentEvent，则添加监听options.renderAfterDocumentEvent事件，如果renderAfterDocumentEvent触发，则window.__PRERENDER_STATUS._DOCUMENT_EVENT_RESOLVED=true\nif (options.renderAfterDocumentEvent) {\n        await page.evaluateOnNewDocument(listenForRender, options);\n      }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "8JgCDOfl1NQ3WtmS77bnG",
      "type": "rectangle",
      "x": 2847.3610408129516,
      "y": 2332.4497385910545,
      "width": 611.1226271228811,
      "height": 262.87973325444585,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCK",
      "roundness": {
        "type": 3
      },
      "seed": 1924029653,
      "version": 64,
      "versionNonce": 1533709499,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ZH2n3g0YHinzj6zRlft9d"
        }
      ],
      "updated": 1745575069110,
      "link": null,
      "locked": false
    },
    {
      "id": "ZH2n3g0YHinzj6zRlft9d",
      "type": "text",
      "x": 2927.8724886517357,
      "y": 2363.889605218277,
      "width": 450.0997314453125,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCL",
      "roundness": null,
      "seed": 998935061,
      "version": 79,
      "versionNonce": 867663675,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745575123425,
      "link": null,
      "locked": false,
      "text": "// 导航到预渲染页面 \n const navigationOptions = {\n        waituntil: \"networkidle0\",\n        timeout: options.timeout,\n        ...options.navigationOptions,\n      };\n      await page.goto(`${baseURL}${route}`,\nnavigationOptions);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "8JgCDOfl1NQ3WtmS77bnG",
      "originalText": "// 导航到预渲染页面 \n const navigationOptions = {\n        waituntil: \"networkidle0\",\n        timeout: options.timeout,\n        ...options.navigationOptions,\n      };\n      await page.goto(`${baseURL}${route}`, navigationOptions);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "mH_RAUCCi9VWPpO7Se6RN",
      "type": "rectangle",
      "x": 2851.9638286831537,
      "y": 2623.511782088246,
      "width": 606.0315661405643,
      "height": 229.04566173897092,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCM",
      "roundness": {
        "type": 3
      },
      "seed": 378645653,
      "version": 46,
      "versionNonce": 1752374357,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "D-N9438TEwbqxp7n4DSQB"
        }
      ],
      "updated": 1745575310468,
      "link": null,
      "locked": false
    },
    {
      "id": "D-N9438TEwbqxp7n4DSQB",
      "type": "text",
      "x": 2861.0397924174986,
      "y": 2700.5346129577315,
      "width": 587.879638671875,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCN",
      "roundness": null,
      "seed": 735335131,
      "version": 50,
      "versionNonce": 1732917909,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745575345646,
      "link": null,
      "locked": false,
      "text": "// 如果有options.pageHandler，这执行options.pageHandler回调\n options.pageHandler && (await options.pageHandler(page,\nroute));",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "mH_RAUCCi9VWPpO7Se6RN",
      "originalText": "// 如果有options.pageHandler，这执行options.pageHandler回调\n options.pageHandler && (await options.pageHandler(page, route));",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Ukl625UGhYl5LDFwVsN4U",
      "type": "rectangle",
      "x": 2852.347936864684,
      "y": 2882.1834149047827,
      "width": 606.0380764487254,
      "height": 785,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCO",
      "roundness": {
        "type": 3
      },
      "seed": 839918491,
      "version": 95,
      "versionNonce": 1539173371,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "4pDlclgTHucLevkAhICWt"
        }
      ],
      "updated": 1745575889523,
      "link": null,
      "locked": false
    },
    {
      "id": "4pDlclgTHucLevkAhICWt",
      "type": "text",
      "x": 2859.3070996007655,
      "y": 2887.1834149047827,
      "width": 592.1197509765625,
      "height": 775,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCP",
      "roundness": null,
      "seed": 2093700059,
      "version": 279,
      "versionNonce": 129618139,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745575945611,
      "link": null,
      "locked": false,
      "text": "// 如果有options.renderAfterElementExists，则prs推入等待该\n元素出现或消失，prs推入等待 renderAfterDocumentEvent 触发\n或则renderAfterTime时间后 ，用Promise.race处理prs \n const prs: Array<Promise<void | string>> = [];\n      // Wait for some specific element exists\n      if (options.renderAfterElementExists) {\n        const elem = options.renderAfterElementExists;\n        prs.push(\n          (async () => {\n            try {\n              await page.waitForSelector(elem, {\n                timeout: options.timeout,\n                hidden: options.elementHidden,\n                visible: options.elementVisible,\n              });\n            } catch (e) {\n              await page.close();\n              const timeS = Math.round(options.timeout / 100)\n/ 10;\n              throw new Error(\n                `Could not prerender: element '${elem}' did not\nappear within ${timeS}s`\n              );\n            }\n          })()\n        );\n      }\n\n      prs.push(page.evaluate(waitForRender, options));\n\n      const res = await Promise.race(prs);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Ukl625UGhYl5LDFwVsN4U",
      "originalText": "// 如果有options.renderAfterElementExists，则prs推入等待该元素出现或消失，prs推入等待 renderAfterDocumentEvent 触发或则renderAfterTime时间后 ，用Promise.race处理prs \n const prs: Array<Promise<void | string>> = [];\n      // Wait for some specific element exists\n      if (options.renderAfterElementExists) {\n        const elem = options.renderAfterElementExists;\n        prs.push(\n          (async () => {\n            try {\n              await page.waitForSelector(elem, {\n                timeout: options.timeout,\n                hidden: options.elementHidden,\n                visible: options.elementVisible,\n              });\n            } catch (e) {\n              await page.close();\n              const timeS = Math.round(options.timeout / 100) / 10;\n              throw new Error(\n                `Could not prerender: element '${elem}' did not appear within ${timeS}s`\n              );\n            }\n          })()\n        );\n      }\n\n      prs.push(page.evaluate(waitForRender, options));\n\n      const res = await Promise.race(prs);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "RzF74Lp-Ax_EZcm0eY_uF",
      "type": "rectangle",
      "x": 2852.912187169706,
      "y": 3694.385089059105,
      "width": 595.0877190583924,
      "height": 310.2297788947708,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCQ",
      "roundness": {
        "type": 3
      },
      "seed": 655440309,
      "version": 85,
      "versionNonce": 1186369525,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "1DM5I4gquxHCLPo7sK3MX"
        }
      ],
      "updated": 1745576112362,
      "link": null,
      "locked": false
    },
    {
      "id": "1DM5I4gquxHCLPo7sK3MX",
      "type": "text",
      "x": 2877.0962444528086,
      "y": 3711.9999785064906,
      "width": 546.7196044921875,
      "height": 275,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCR",
      "roundness": null,
      "seed": 2082911547,
      "version": 89,
      "versionNonce": 4824283,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745576194445,
      "link": null,
      "locked": false,
      "text": "// 动态加载@prerender_skeleton/skeleton下的\nskeleton.global.js文件，把文件注入页面中     \n const require = createRequire(import.meta.url);\n      const modulePath =\nrequire.resolve(\"@prerender_skeleton/skeleton\");\n      const distDir = path.dirname(modulePath);\n      const fileContent = await readFile(\n        path.join(distDir, \"skeleton.global.js\"),\n        \"utf8\"\n      );\n      await page.addScriptTag({ content: fileContent });",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "RzF74Lp-Ax_EZcm0eY_uF",
      "originalText": "// 动态加载@prerender_skeleton/skeleton下的skeleton.global.js文件，把文件注入页面中     \n const require = createRequire(import.meta.url);\n      const modulePath = require.resolve(\"@prerender_skeleton/skeleton\");\n      const distDir = path.dirname(modulePath);\n      const fileContent = await readFile(\n        path.join(distDir, \"skeleton.global.js\"),\n        \"utf8\"\n      );\n      await page.addScriptTag({ content: fileContent });",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "uMDK2yPOKSAfzc2SuDRDj",
      "type": "rectangle",
      "x": 2844.3674255089877,
      "y": 4023.6035027006656,
      "width": 606.7635255276464,
      "height": 285,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCS",
      "roundness": {
        "type": 3
      },
      "seed": 344978805,
      "version": 72,
      "versionNonce": 1199256373,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "H4kaNSlv1rO7BJKi2eqpb"
        },
        {
          "id": "XW6NfHZrWBaw7AO7ndOI1",
          "type": "arrow"
        },
        {
          "id": "vmZ6q9FQ0lpvS_xj-kByx",
          "type": "arrow"
        }
      ],
      "updated": 1745577933138,
      "link": null,
      "locked": false
    },
    {
      "id": "H4kaNSlv1rO7BJKi2eqpb",
      "type": "text",
      "x": 2881.169354288436,
      "y": 4028.6035027006656,
      "width": 533.15966796875,
      "height": 275,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCT",
      "roundness": null,
      "seed": 1923677941,
      "version": 108,
      "versionNonce": 1387337333,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745576541555,
      "link": null,
      "locked": false,
      "text": "// 获取当前的optionItem，用optionItem新建注入的\nSkeletonRender实例，执行 skeletonRender.genSkeleton \n const optionItem = this.rootOptions?.routes.find(\n        (item) => item.path === route\n      )!;\n\n      await page.evaluate(async (optionItem) => {\n        var skeletonRender = new\nSkeletonRender(optionItem);\n        await skeletonRender.genSkeleton();\n      }, optionItem);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "uMDK2yPOKSAfzc2SuDRDj",
      "originalText": "// 获取当前的optionItem，用optionItem新建注入的 SkeletonRender实例，执行 skeletonRender.genSkeleton \n const optionItem = this.rootOptions?.routes.find(\n        (item) => item.path === route\n      )!;\n\n      await page.evaluate(async (optionItem) => {\n        var skeletonRender = new SkeletonRender(optionItem);\n        await skeletonRender.genSkeleton();\n      }, optionItem);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Sm_CxUShPTyXadFxI85xj",
      "type": "rectangle",
      "x": 3889.048394702055,
      "y": 1627.4010493225373,
      "width": 5764.874487855216,
      "height": 6588.2223553371405,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCU",
      "roundness": {
        "type": 3
      },
      "seed": 1696039317,
      "version": 625,
      "versionNonce": 278227835,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "XW6NfHZrWBaw7AO7ndOI1",
          "type": "arrow"
        }
      ],
      "updated": 1745587658778,
      "link": null,
      "locked": false
    },
    {
      "id": "vB-JrY-GCK8K10QQtPRHD",
      "type": "text",
      "x": 3970.327937789745,
      "y": 1692.9687172222946,
      "width": 364.417160462057,
      "height": 60.85056815009907,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCV",
      "roundness": null,
      "seed": 1628567355,
      "version": 149,
      "versionNonce": 621613435,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745576764544,
      "link": null,
      "locked": false,
      "text": "SkeletonRender",
      "fontSize": 48.68045452007929,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SkeletonRender",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "NZqBWsiDByPzBWA9t6vO9",
      "type": "rectangle",
      "x": 3988.216134358231,
      "y": 1828.7297078036474,
      "width": 1165.6982650144587,
      "height": 428.03811894762464,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCW",
      "roundness": {
        "type": 3
      },
      "seed": 237748117,
      "version": 348,
      "versionNonce": 1546186581,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "6Fzevm5JTxjdk7PzCy_gY"
        }
      ],
      "updated": 1745576802759,
      "link": null,
      "locked": false
    },
    {
      "id": "6Fzevm5JTxjdk7PzCy_gY",
      "type": "text",
      "x": 4379.975392597882,
      "y": 1880.2487672774598,
      "width": 382.17974853515625,
      "height": 325,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCWG",
      "roundness": null,
      "seed": 791715771,
      "version": 359,
      "versionNonce": 73022645,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745576802759,
      "link": null,
      "locked": false,
      "text": "  \n// 给options设置默认值\nconstructor(options: SkeletonOption) {\n    this.options = Object.assign(\n      {\n        animation: true,\n        appId: \"app\",\n        minGrayBlockWidth: 30,\n        minGrayPseudoWidth: 30,\n      },\n      options\n    );\n  }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "NZqBWsiDByPzBWA9t6vO9",
      "originalText": "  \n// 给options设置默认值\nconstructor(options: SkeletonOption) {\n    this.options = Object.assign(\n      {\n        animation: true,\n        appId: \"app\",\n        minGrayBlockWidth: 30,\n        minGrayPseudoWidth: 30,\n      },\n      options\n    );\n  }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "lHctbVU97cDw0dYGuBown",
      "type": "text",
      "x": 4041.6404598260933,
      "y": 1878.6814394850453,
      "width": 116.719970703125,
      "height": 36.48232801659698,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCY",
      "roundness": null,
      "seed": 2031569435,
      "version": 203,
      "versionNonce": 1972846421,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745576767931,
      "link": null,
      "locked": false,
      "text": "构造函数",
      "fontSize": 29.185862413277587,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "构造函数",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "xBRYEfvGwwpCQphSlopnu",
      "type": "rectangle",
      "x": 3985.5674953815815,
      "y": 2315.713145830634,
      "width": 789.9221048494644,
      "height": 249.99897244305203,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCZ",
      "roundness": {
        "type": 3
      },
      "seed": 142880635,
      "version": 133,
      "versionNonce": 1618323957,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ervypeSczJO3UQRgsScM4"
        },
        {
          "id": "vmZ6q9FQ0lpvS_xj-kByx",
          "type": "arrow"
        }
      ],
      "updated": 1745577933138,
      "link": null,
      "locked": false
    },
    {
      "id": "ervypeSczJO3UQRgsScM4",
      "type": "text",
      "x": 4222.758665604165,
      "y": 2390.71263205216,
      "width": 315.5397644042969,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCZV",
      "roundness": null,
      "seed": 1212664027,
      "version": 91,
      "versionNonce": 1478297045,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745577905894,
      "link": null,
      "locked": false,
      "text": "// 生成骨架屏\n// 删除mock数据  \n  await this.startGenSkeleton();\n    this.removeMock();",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "xBRYEfvGwwpCQphSlopnu",
      "originalText": "// 生成骨架屏\n// 删除mock数据  \n  await this.startGenSkeleton();\n    this.removeMock();",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "DMIMfH-wd42zNXbVPZXpX",
      "type": "text",
      "x": 4048.9082547193984,
      "y": 2355.7138619436832,
      "width": 186.99362226928127,
      "height": 40.64374981855008,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCa",
      "roundness": null,
      "seed": 839748277,
      "version": 11,
      "versionNonce": 347652917,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745577827930,
      "link": null,
      "locked": false,
      "text": "genSkeleton",
      "fontSize": 32.514999854840056,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "genSkeleton",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "XW6NfHZrWBaw7AO7ndOI1",
      "type": "arrow",
      "x": 3452.0354700999183,
      "y": 4167.448158531001,
      "width": 427.7699310712892,
      "height": 1721.603421822988,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCd",
      "roundness": {
        "type": 2
      },
      "seed": 1979820859,
      "version": 505,
      "versionNonce": 191906843,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745587658778,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          427.7699310712892,
          -1721.603421822988
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "uMDK2yPOKSAfzc2SuDRDj",
        "focus": 0.899130241645805,
        "gap": 1
      },
      "endBinding": {
        "elementId": "Sm_CxUShPTyXadFxI85xj",
        "focus": 0.9475495473592486,
        "gap": 14.03127834251427
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "vmZ6q9FQ0lpvS_xj-kByx",
      "type": "arrow",
      "x": 3455.099321620676,
      "y": 4178.27210245238,
      "width": 519.6815417163193,
      "height": 1648.4535175260262,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCf",
      "roundness": {
        "type": 2
      },
      "seed": 237882197,
      "version": 123,
      "versionNonce": 1146940981,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745577933799,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          519.6815417163193,
          -1648.4535175260262
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "uMDK2yPOKSAfzc2SuDRDj",
        "focus": 0.8934293959479978,
        "gap": 3.968370584042077
      },
      "endBinding": {
        "elementId": "xBRYEfvGwwpCQphSlopnu",
        "focus": 0.869440179352466,
        "gap": 10.786632044585986
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "KLgPqtvHIbBI89ltSf4Sl",
      "type": "rectangle",
      "x": 3991.2846320555886,
      "y": 2604.953592481846,
      "width": 886.4672221481492,
      "height": 838.9717276060491,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCh",
      "roundness": {
        "type": 3
      },
      "seed": 912565493,
      "version": 228,
      "versionNonce": 1739528341,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745584566960,
      "link": null,
      "locked": false
    },
    {
      "id": "WXgvpEMQCgs1sJIRtHdtx",
      "type": "rectangle",
      "x": 4056.5238887423393,
      "y": 2639.0868800863936,
      "width": 727.6632069732752,
      "height": 378.47232002233335,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCi",
      "roundness": {
        "type": 3
      },
      "seed": 912533493,
      "version": 120,
      "versionNonce": 1707663675,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "pbNS7jCbnSOvCHeQCOjnB"
        }
      ],
      "updated": 1745578105899,
      "link": null,
      "locked": false
    },
    {
      "id": "pbNS7jCbnSOvCHeQCOjnB",
      "type": "text",
      "x": 4132.665672893039,
      "y": 2665.8230400975604,
      "width": 575.379638671875,
      "height": 325,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCj",
      "roundness": null,
      "seed": 1709284155,
      "version": 307,
      "versionNonce": 1580138971,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745578105899,
      "link": null,
      "locked": false,
      "text": "// 找到页面根元素\n// clone根元素，给clone元素添加样式，使其覆盖视口\n// 隐藏APP元素，添加clone元素    \nconst app = document.getElementById(this.options.appId);\n    if (!app) {\n      console.error(\"根元素没找到~\");\n      return false;\n    }\n    const newNode = cloneElementWithUniqueIds(app);\n    newNode.id = \"__skeleton_clone\";\n    newNode.classList.add(SKELETON_CLONE_CLASS);\n    app.style.visibility = \"hidden\";\n    document.body.prepend(newNode);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "WXgvpEMQCgs1sJIRtHdtx",
      "originalText": "// 找到页面根元素\n// clone根元素，给clone元素添加样式，使其覆盖视口\n// 隐藏APP元素，添加clone元素    \nconst app = document.getElementById(this.options.appId);\n    if (!app) {\n      console.error(\"根元素没找到~\");\n      return false;\n    }\n    const newNode = cloneElementWithUniqueIds(app);\n    newNode.id = \"__skeleton_clone\";\n    newNode.classList.add(SKELETON_CLONE_CLASS);\n    app.style.visibility = \"hidden\";\n    document.body.prepend(newNode);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "8O9sO3W7yAMTjQyE2z5qh",
      "type": "rectangle",
      "x": 4052.958898586505,
      "y": 3046.7942992797916,
      "width": 759.7104659544502,
      "height": 118.26615854590091,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCk",
      "roundness": {
        "type": 3
      },
      "seed": 1088580277,
      "version": 108,
      "versionNonce": 1897158485,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "tXzXMiIsvmf3nF2LLnXoB"
        }
      ],
      "updated": 1745578136539,
      "link": null,
      "locked": false
    },
    {
      "id": "tXzXMiIsvmf3nF2LLnXoB",
      "type": "text",
      "x": 4323.594145601815,
      "y": 3080.927378552742,
      "width": 218.43997192382812,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCl",
      "roundness": null,
      "seed": 1466583317,
      "version": 27,
      "versionNonce": 932750517,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745578136539,
      "link": null,
      "locked": false,
      "text": "    // 初始化骨架屏样式\n    this.styleHandler();",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "8O9sO3W7yAMTjQyE2z5qh",
      "originalText": "    // 初始化骨架屏样式\n    this.styleHandler();",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "J0xpPWhNoBVPCt9IZyIrJ",
      "type": "rectangle",
      "x": 4061.867244489177,
      "y": 3198.277038931006,
      "width": 735.9313672386061,
      "height": 179.51239295228106,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCm",
      "roundness": {
        "type": 3
      },
      "seed": 829591995,
      "version": 82,
      "versionNonce": 1332521979,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "YVD-uyxbN2Ab3rSHRw2Lt"
        },
        {
          "id": "n-ytfhH0qQEKnf20GcnF9",
          "type": "arrow"
        }
      ],
      "updated": 1745585738974,
      "link": null,
      "locked": false
    },
    {
      "id": "YVD-uyxbN2Ab3rSHRw2Lt",
      "type": "text",
      "x": 4301.213024544027,
      "y": 3263.033235407146,
      "width": 257.23980712890625,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCn",
      "roundness": null,
      "seed": 1261846325,
      "version": 38,
      "versionNonce": 824023259,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745584544207,
      "link": null,
      "locked": false,
      "text": "// 处理元素节点      \nthis.handleNode(newNode);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "J0xpPWhNoBVPCt9IZyIrJ",
      "originalText": "// 处理元素节点      \nthis.handleNode(newNode);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "t9QNkGPvAiD2P941khoYd",
      "type": "rectangle",
      "x": 5190.459396043273,
      "y": 2367.8504333319465,
      "width": 1559.7104943500335,
      "height": 4426.253517869131,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCo",
      "roundness": {
        "type": 3
      },
      "seed": 1941567477,
      "version": 478,
      "versionNonce": 2080909627,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "n-ytfhH0qQEKnf20GcnF9",
          "type": "arrow"
        }
      ],
      "updated": 1745585738974,
      "link": null,
      "locked": false
    },
    {
      "id": "fQZ3Tkc9L_H2J3mPgzOvs",
      "type": "rectangle",
      "x": 5267.045309710366,
      "y": 2422.6229954866085,
      "width": 1408.8841756813204,
      "height": 575.5950706120077,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCp",
      "roundness": {
        "type": 3
      },
      "seed": 315697845,
      "version": 153,
      "versionNonce": 757430971,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ssQlXHP59WWlmQj0Gn35A"
        }
      ],
      "updated": 1745584731248,
      "link": null,
      "locked": false
    },
    {
      "id": "ssQlXHP59WWlmQj0Gn35A",
      "type": "text",
      "x": 5559.387421965089,
      "y": 2497.920530792612,
      "width": 824.199951171875,
      "height": 425,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCq",
      "roundness": null,
      "seed": 1619359835,
      "version": 167,
      "versionNonce": 878031285,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745584915301,
      "link": null,
      "locked": false,
      "text": " // 如果是文本节点并且该节点还没被处理过，则新建i元素取代当前文本节点，然后处理i元素\n    if (isTextNode(node)) {\n      const parent = node.parentNode as HTMLElement;\n      // Determine if it has been processed\n      if (!parent.classList.contains(SKELETON_TEXT_CLASS)) {\n        // It is plain text itself and needs to be replaced with a node\n        const textContent = node.textContent!.replace(/[\\r\\n]/g, \"\").trim();\n        if (textContent) {\n          const tmpNode = document.createElement(\"i\");\n          tmpNode.classList.add(SKELETON_TEXT_CLASS);\n          tmpNode.innerHTML = textContent;\n          node.parentNode!.replaceChild(tmpNode, node);\n          this.textHandler(tmpNode);\n          return true;\n        }\n      }\n    }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "fQZ3Tkc9L_H2J3mPgzOvs",
      "originalText": " // 如果是文本节点并且该节点还没被处理过，则新建i元素取代当前文本节点，然后处理i元素\n    if (isTextNode(node)) {\n      const parent = node.parentNode as HTMLElement;\n      // Determine if it has been processed\n      if (!parent.classList.contains(SKELETON_TEXT_CLASS)) {\n        // It is plain text itself and needs to be replaced with a node\n        const textContent = node.textContent!.replace(/[\\r\\n]/g, \"\").trim();\n        if (textContent) {\n          const tmpNode = document.createElement(\"i\");\n          tmpNode.classList.add(SKELETON_TEXT_CLASS);\n          tmpNode.innerHTML = textContent;\n          node.parentNode!.replaceChild(tmpNode, node);\n          this.textHandler(tmpNode);\n          return true;\n        }\n      }\n    }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "3rN739hg2X4JV_pL5hdl4",
      "type": "rectangle",
      "x": 5264.852007725526,
      "y": 3019.003625793615,
      "width": 1421.0043935058702,
      "height": 585,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCr",
      "roundness": {
        "type": 3
      },
      "seed": 1712995899,
      "version": 275,
      "versionNonce": 1211218459,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "kHjsTB71vbBzGgGRV51l6"
        }
      ],
      "updated": 1745585655904,
      "link": null,
      "locked": false
    },
    {
      "id": "kHjsTB71vbBzGgGRV51l6",
      "type": "text",
      "x": 5547.734300914008,
      "y": 3124.003625793615,
      "width": 855.2398071289062,
      "height": 375,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCs",
      "roundness": null,
      "seed": 2092545819,
      "version": 379,
      "versionNonce": 610754843,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585778391,
      "link": null,
      "locked": false,
      "text": "  // 是元素节点\n// 如果不在视口内的或则有data-skeleton-remove自定义属性的，则删除该元素不做骨架屏处理\n// 如果有data-skeleton-ignore自定义属性或则是style标签的，则忽略不做处理\n\n    else if (\n      isHtmlElement(node)\n      if (!inViewPort(node) || hasAttr(node, \"data-skeleton-remove\")) {\n        return removeElement(node);\n      }\n\n      // Handling elements that are ignored by user tags -> End\n      const ignore =\n        hasAttr(node, \"data-skeleton-ignore\") || node.tagName === \"STYLE\";\n      if (ignore) return;\n",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "3rN739hg2X4JV_pL5hdl4",
      "originalText": "  // 是元素节点\n// 如果不在视口内的或则有data-skeleton-remove自定义属性的，则删除该元素不做骨架屏处理\n// 如果有data-skeleton-ignore自定义属性或则是style标签的，则忽略不做处理\n\n    else if (\n      isHtmlElement(node)\n      if (!inViewPort(node) || hasAttr(node, \"data-skeleton-remove\")) {\n        return removeElement(node);\n      }\n\n      // Handling elements that are ignored by user tags -> End\n      const ignore =\n        hasAttr(node, \"data-skeleton-ignore\") || node.tagName === \"STYLE\";\n      if (ignore) return;\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "RppWz75H6BngYhkys88xk",
      "type": "rectangle",
      "x": 5300.303587686835,
      "y": 3710.2149815548664,
      "width": 1421.5966256778165,
      "height": 349.39808042180266,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCt",
      "roundness": {
        "type": 3
      },
      "seed": 374003221,
      "version": 151,
      "versionNonce": 1491378203,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Ba-GIXtSqa7y0qlOBJxqp"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "Ba-GIXtSqa7y0qlOBJxqp",
      "type": "text",
      "x": 5307.672029920275,
      "y": 3772.4140217657678,
      "width": 1406.8597412109375,
      "height": 225,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCu",
      "roundness": null,
      "seed": 873081819,
      "version": 100,
      "versionNonce": 959440059,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "     // 处理默认样式\n      // 1. 有data-skeleton-empty属性的清空子元素，和伪类元素的背景色\n      // 2 如果元素宽度小于最小宽度，则透明度设置为0\n      // 3 如果有backgroundImage背景图片的话，则把背景图设置为none，设置默认背景色 ,如果配置options有动画属性，则给元素添加动画\n      // 4 如果有阴影的话，替换为默认阴影\n      // 5 如果有边框的话，替换为默认边框\n      // 6 如果有自定义data-skeleton-bgcolor背景色的话，则设置自定义背景色，并把颜色color设置为透明，如果配置options有动画属性，则给元素添加动\n画\n      this.beforeHandler(node);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "RppWz75H6BngYhkys88xk",
      "originalText": "     // 处理默认样式\n      // 1. 有data-skeleton-empty属性的清空子元素，和伪类元素的背景色\n      // 2 如果元素宽度小于最小宽度，则透明度设置为0\n      // 3 如果有backgroundImage背景图片的话，则把背景图设置为none，设置默认背景色 ,如果配置options有动画属性，则给元素添加动画\n      // 4 如果有阴影的话，替换为默认阴影\n      // 5 如果有边框的话，替换为默认边框\n      // 6 如果有自定义data-skeleton-bgcolor背景色的话，则设置自定义背景色，并把颜色color设置为透明，如果配置options有动画属性，则给元素添加动画\n      this.beforeHandler(node);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "7C0w-V70BOWrD0V3nR_-R",
      "type": "rectangle",
      "x": 5286.770452523628,
      "y": 4108.047139945773,
      "width": 1446.9996056489772,
      "height": 200.07996898417153,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCv",
      "roundness": {
        "type": 3
      },
      "seed": 733251835,
      "version": 167,
      "versionNonce": 1156158811,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "s1n_1deThkXTPLzRzP0by"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "s1n_1deThkXTPLzRzP0by",
      "type": "text",
      "x": 5318.540274879366,
      "y": 4145.587124437859,
      "width": 1383.4599609375,
      "height": 125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCw",
      "roundness": null,
      "seed": 1613492027,
      "version": 92,
      "versionNonce": 1533293051,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": " \n      // 处理伪元素\n      // 如果伪元素宽度小于最小宽度，则透明度设置为0，否则的话设置为默认背景色、背景图片为none、默认边框颜色、把颜色color设置为透明,如果配置\noptions有动画属性，则给元素添加动画\n      this.pseudoHandler(node);",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "7C0w-V70BOWrD0V3nR_-R",
      "originalText": " \n      // 处理伪元素\n      // 如果伪元素宽度小于最小宽度，则透明度设置为0，否则的话设置为默认背景色、背景图片为none、默认边框颜色、把颜色color设置为透明,如果配置options有动画属性，则给元素添加动画\n      this.pseudoHandler(node);",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "slM6VeEMBBvrR_Fg4FKSk",
      "type": "rectangle",
      "x": 5285.4599813346385,
      "y": 4334.865761459113,
      "width": 1462.9646729225205,
      "height": 230.2586083844363,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCx",
      "roundness": {
        "type": 3
      },
      "seed": 225969019,
      "version": 122,
      "versionNonce": 1302477467,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "NXdxO4qxZIo_wo45w_vOo"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "NXdxO4qxZIo_wo45w_vOo",
      "type": "text",
      "x": 5692.762508225586,
      "y": 4374.995065651331,
      "width": 648.359619140625,
      "height": 150,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCy",
      "roundness": null,
      "seed": 1823682997,
      "version": 71,
      "versionNonce": 676736827,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "  const tagName = node.tagName && node.tagName.toUpperCase();\n      switch (tagName) {\n        case \"SCRIPT\":\n          // 如果是script标签的话，则删除元素\n          this.scriptHandler(node);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "slM6VeEMBBvrR_Fg4FKSk",
      "originalText": "  const tagName = node.tagName && node.tagName.toUpperCase();\n      switch (tagName) {\n        case \"SCRIPT\":\n          // 如果是script标签的话，则删除元素\n          this.scriptHandler(node);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "L9CKnxwSL61XNZJZcLoxo",
      "type": "rectangle",
      "x": 5293.222002992495,
      "y": 4589.689601180522,
      "width": 1443.5848201469016,
      "height": 284.02572918649184,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bCz",
      "roundness": {
        "type": 3
      },
      "seed": 1043289365,
      "version": 121,
      "versionNonce": 1038258139,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "tusDhWEIulWCwW4DX7VOO"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "tusDhWEIulWCwW4DX7VOO",
      "type": "text",
      "x": 5716.074502177274,
      "y": 4644.2024657737675,
      "width": 597.8798217773438,
      "height": 175,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD0",
      "roundness": null,
      "seed": 1357725653,
      "version": 70,
      "versionNonce": 1884937339,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "      case \"IMG\":\n          // img元素处理\n          // 1. 如果是base64或则静态图 不处理直接返回\n          // 2. 这是渲染出来的固定宽高，设置src为空的base64\n          // 3. 设置图片默认的背景色和backgroundImage背景图片\n          this.imgHandler(node as HTMLImageElement);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "L9CKnxwSL61XNZJZcLoxo",
      "originalText": "      case \"IMG\":\n          // img元素处理\n          // 1. 如果是base64或则静态图 不处理直接返回\n          // 2. 这是渲染出来的固定宽高，设置src为空的base64\n          // 3. 设置图片默认的背景色和backgroundImage背景图片\n          this.imgHandler(node as HTMLImageElement);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "3mt91mSl4qQlFszC-uSdE",
      "type": "rectangle",
      "x": 5302.055082833656,
      "y": 4906.669073644802,
      "width": 1422.4975746202454,
      "height": 312.88759705551183,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD1",
      "roundness": {
        "type": 3
      },
      "seed": 572368725,
      "version": 96,
      "versionNonce": 998151451,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Y_P3CeBUuiqdv9iNbG8IM"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "Y_P3CeBUuiqdv9iNbG8IM",
      "type": "text",
      "x": 5698.703955592998,
      "y": 4975.612872172558,
      "width": 629.1998291015625,
      "height": 175,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD2",
      "roundness": null,
      "seed": 2051963931,
      "version": 51,
      "versionNonce": 2126723515,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "     case \"SVG\":\n          // svg处理\n          // 1. 如果aria-hidden属性为true，或则宽高为0，则删除元素\n          // 2. 清除元素centent\n          // 3. 设置元素渲染后的宽高\n          this.svgHandler(node as HTMLImageElement);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "3mt91mSl4qQlFszC-uSdE",
      "originalText": "     case \"SVG\":\n          // svg处理\n          // 1. 如果aria-hidden属性为true，或则宽高为0，则删除元素\n          // 2. 清除元素centent\n          // 3. 设置元素渲染后的宽高\n          this.svgHandler(node as HTMLImageElement);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "uHCBuhYNCXkCc-tJQuBbl",
      "type": "rectangle",
      "x": 5303.352953338135,
      "y": 5261.394880985781,
      "width": 1426.844810776025,
      "height": 271.7841641855084,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD3",
      "roundness": {
        "type": 3
      },
      "seed": 720933819,
      "version": 142,
      "versionNonce": 122309211,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "23BEQ0Qsrj2fCgj9rwvKo"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "23BEQ0Qsrj2fCgj9rwvKo",
      "type": "text",
      "x": 5751.5055223003665,
      "y": 5334.786963078535,
      "width": 530.5396728515625,
      "height": 125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD4",
      "roundness": null,
      "seed": 1025056155,
      "version": 80,
      "versionNonce": 1508263675,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "     // 处理input 元素\n        // 删除placeholder 和 value\n        case \"INPUT\":\n          this.inputHandler(node as HTMLInputElement);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "uHCBuhYNCXkCc-tJQuBbl",
      "originalText": "     // 处理input 元素\n        // 删除placeholder 和 value\n        case \"INPUT\":\n          this.inputHandler(node as HTMLInputElement);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0k3UZ1Ets7ADzAng9e9Qd",
      "type": "rectangle",
      "x": 5298.369382614626,
      "y": 5575.424021303577,
      "width": 1427.8150634832566,
      "height": 231.08395321980697,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD5",
      "roundness": {
        "type": 3
      },
      "seed": 662034555,
      "version": 214,
      "versionNonce": 1025093531,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ow6DBCid840zbVyZIBf30"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "ow6DBCid840zbVyZIBf30",
      "type": "text",
      "x": 5729.417081592583,
      "y": 5615.965997913481,
      "width": 565.7196655273438,
      "height": 150,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD6",
      "roundness": null,
      "seed": 1423420411,
      "version": 156,
      "versionNonce": 51840059,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "        // 处理button\n        // 1. 设置boxshadow为none\n        // 2. 设置元素渲染出的宽高，清空子元素\n        case \"BUTTON\": // Button processing ends once\n          this.buttonHandler(node as HTMLButtonElement);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "0k3UZ1Ets7ADzAng9e9Qd",
      "originalText": "        // 处理button\n        // 1. 设置boxshadow为none\n        // 2. 设置元素渲染出的宽高，清空子元素\n        case \"BUTTON\": // Button processing ends once\n          this.buttonHandler(node as HTMLButtonElement);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "XZmF33T2GdExK6tCWiDQB",
      "type": "rectangle",
      "x": 5298.255976454041,
      "y": 5824.582475138101,
      "width": 1425.3579300039037,
      "height": 239.9926371680267,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD7",
      "roundness": {
        "type": 3
      },
      "seed": 1126438363,
      "version": 138,
      "versionNonce": 331400411,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "dljujS_ndETYHL2A9cHQJ"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "dljujS_ndETYHL2A9cHQJ",
      "type": "text",
      "x": 5533.205266163024,
      "y": 5882.078793722114,
      "width": 955.4593505859375,
      "height": 125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD8",
      "roundness": null,
      "seed": 1456003669,
      "version": 99,
      "versionNonce": 917074299,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "    // 处理A标签\n          // 1. 删除href属性\n        case \"A\": // A label processing is placed behind to prevent IMG from displaying an exception\n          this.aHandler(node);\n          break;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "XZmF33T2GdExK6tCWiDQB",
      "originalText": "    // 处理A标签\n          // 1. 删除href属性\n        case \"A\": // A label processing is placed behind to prevent IMG from displaying an exception\n          this.aHandler(node);\n          break;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0x_pLPzcK40V5KzDioYt3",
      "type": "rectangle",
      "x": 5308.239459411157,
      "y": 6089.528878084899,
      "width": 1417.7562525757257,
      "height": 243.28540335874732,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bD9",
      "roundness": {
        "type": 3
      },
      "seed": 1621264987,
      "version": 105,
      "versionNonce": 244634651,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "zwZmh9jUlBfPDhvpyBXFN"
        },
        {
          "id": "CHTOj_sU29LnYxWF7EjKP",
          "type": "arrow"
        }
      ],
      "updated": 1745589803779,
      "link": null,
      "locked": false
    },
    {
      "id": "zwZmh9jUlBfPDhvpyBXFN",
      "type": "text",
      "x": 5727.98770288652,
      "y": 6111.171579764272,
      "width": 578.259765625,
      "height": 200,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDA",
      "roundness": null,
      "seed": 1999270011,
      "version": 52,
      "versionNonce": 737251003,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "  // 处理子节点为纯文本节点元素 <p>xxx</p>\n      if (\n        node.childNodes &&\n        node.childNodes.length === 1 &&\n        node.childNodes[0].nodeType === Node.TEXT_NODE\n      ) {\n        this.textHandler(node);\n        return;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "0x_pLPzcK40V5KzDioYt3",
      "originalText": "  // 处理子节点为纯文本节点元素 <p>xxx</p>\n      if (\n        node.childNodes &&\n        node.childNodes.length === 1 &&\n        node.childNodes[0].nodeType === Node.TEXT_NODE\n      ) {\n        this.textHandler(node);\n        return;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "sTOxD7SlHx5PuqZAqzKiV",
      "type": "rectangle",
      "x": 5301.631527972224,
      "y": 6363.411214484436,
      "width": 1426.4709205278396,
      "height": 259.9128663900028,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDB",
      "roundness": {
        "type": 3
      },
      "seed": 186394549,
      "version": 168,
      "versionNonce": 98959195,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "T4dculdgaiYzvaSAnTgFD"
        }
      ],
      "updated": 1745585719940,
      "link": null,
      "locked": false
    },
    {
      "id": "T4dculdgaiYzvaSAnTgFD",
      "type": "text",
      "x": 5696.917159134581,
      "y": 6443.367647679437,
      "width": 635.899658203125,
      "height": 100,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDC",
      "roundness": null,
      "seed": 788542805,
      "version": 160,
      "versionNonce": 1430477819,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745585719940,
      "link": null,
      "locked": false,
      "text": "// 如果有子节点，则遍历递归处理   \n  if (node.hasChildNodes()) {\n        node.childNodes.forEach((node) => this.handleNode(node));\n      }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "sTOxD7SlHx5PuqZAqzKiV",
      "originalText": "// 如果有子节点，则遍历递归处理   \n  if (node.hasChildNodes()) {\n        node.childNodes.forEach((node) => this.handleNode(node));\n      }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "n-ytfhH0qQEKnf20GcnF9",
      "type": "arrow",
      "x": 4801.908419718753,
      "y": 3255.769378939971,
      "width": 379.2142215339909,
      "height": 242.94434297445332,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDD",
      "roundness": {
        "type": 2
      },
      "seed": 315569205,
      "version": 48,
      "versionNonce": 1112850683,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745585739674,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          379.2142215339909,
          -242.94434297445332
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "J0xpPWhNoBVPCt9IZyIrJ",
        "focus": 0.6332127643943619,
        "gap": 4.109807990969784
      },
      "endBinding": {
        "elementId": "t9QNkGPvAiD2P941khoYd",
        "focus": 0.7644476112972386,
        "gap": 9.336754790529085
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "9yItwfl5LsMyeHCQcfAFU",
      "type": "rectangle",
      "x": 7213.095757403531,
      "y": 2428.9841876744445,
      "width": 2169.453125,
      "height": 3468.6328125000005,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDF",
      "roundness": {
        "type": 3
      },
      "seed": 1773076027,
      "version": 69,
      "versionNonce": 1260177755,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "CHTOj_sU29LnYxWF7EjKP",
          "type": "arrow"
        }
      ],
      "updated": 1745589803779,
      "link": null,
      "locked": false
    },
    {
      "id": "Qa5qtbDu8Nv6bpRp3e58b",
      "type": "rectangle",
      "x": 7315.786999430778,
      "y": 2508.216151543339,
      "width": 1936.8359375,
      "height": 858.3797140232163,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDG",
      "roundness": {
        "type": 3
      },
      "seed": 132809915,
      "version": 110,
      "versionNonce": 1333945141,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "LgBR54aBPAxNTKfFVQnj2"
        }
      ],
      "updated": 1745586575465,
      "link": null,
      "locked": false
    },
    {
      "id": "LgBR54aBPAxNTKfFVQnj2",
      "type": "text",
      "x": 7937.155224528435,
      "y": 2537.406008554947,
      "width": 694.0994873046875,
      "height": 800,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDH",
      "roundness": null,
      "seed": 1820589301,
      "version": 258,
      "versionNonce": 1127700859,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745586820006,
      "link": null,
      "locked": false,
      "text": "// 获取元素渲染出来的样式\n// 计算出行高，然后根据元素高度/行高 计算出1行还是多行\n const comStyle = window.getComputedStyle(ele);\n    let {\n      display,\n      lineHeight,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n      position: pos,\n      fontSize,\n      textAlign,\n      wordSpacing,\n      wordBreak,\n    } = comStyle;\n    if (!/\\d/.test(lineHeight)) {\n      const fontSizeNum = parseInt(fontSize, 10) || 14;\n      lineHeight = `${fontSizeNum * 1.4}px`;\n    }\n    const position = [\"fixed\", \"absolute\", \"flex\"].find((p) => p === pos)\n      ? pos\n      : \"relative\";\n\n    const height = ele.offsetHeight;\n    const width = ele.offsetWidth;\n    // Round down\n    let lineCount =\n      (height - parseFloat(paddingTop) - parseFloat(paddingBottom)) /\n        parseFloat(lineHeight) || 0;\n\n    lineCount = lineCount < 1.5 ? 1 : lineCount;",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Qa5qtbDu8Nv6bpRp3e58b",
      "originalText": "// 获取元素渲染出来的样式\n// 计算出行高，然后根据元素高度/行高 计算出1行还是多行\n const comStyle = window.getComputedStyle(ele);\n    let {\n      display,\n      lineHeight,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n      position: pos,\n      fontSize,\n      textAlign,\n      wordSpacing,\n      wordBreak,\n    } = comStyle;\n    if (!/\\d/.test(lineHeight)) {\n      const fontSizeNum = parseInt(fontSize, 10) || 14;\n      lineHeight = `${fontSizeNum * 1.4}px`;\n    }\n    const position = [\"fixed\", \"absolute\", \"flex\"].find((p) => p === pos)\n      ? pos\n      : \"relative\";\n\n    const height = ele.offsetHeight;\n    const width = ele.offsetWidth;\n    // Round down\n    let lineCount =\n      (height - parseFloat(paddingTop) - parseFloat(paddingBottom)) /\n        parseFloat(lineHeight) || 0;\n\n    lineCount = lineCount < 1.5 ? 1 : lineCount;",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ps0yE5Qs8P9lJBjpZkpEw",
      "type": "rectangle",
      "x": 7293.722415643474,
      "y": 3427.7842322448973,
      "width": 1959.743776527187,
      "height": 601.3429736283638,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDI",
      "roundness": {
        "type": 3
      },
      "seed": 1621594389,
      "version": 81,
      "versionNonce": 1152561467,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "QlHf_kq5761B9ObDBfV_J"
        }
      ],
      "updated": 1745587570479,
      "link": null,
      "locked": false
    },
    {
      "id": "QlHf_kq5761B9ObDBfV_J",
      "type": "text",
      "x": 7626.0246017586305,
      "y": 3478.4557190590795,
      "width": 1295.139404296875,
      "height": 500,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDJ",
      "roundness": null,
      "seed": 1439985755,
      "version": 212,
      "versionNonce": 173545525,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745587574629,
      "link": null,
      "locked": false,
      "text": "\n// 给文本元素使用backgroundImage设置linear-gradient渐变+设置backgroundSize 高度+background-repeat可以设置文本多行灰白相间的效果 \n  const textHeightRatio = 0.6; // Default\n\n    // Add text block class name tag\n    ele.classList.add(SKELETON_TEXT_CLASS);\n\n    Object.assign(ele.style, {\n      backgroundImage: `linear-gradient(\n            transparent ${((1 - textHeightRatio) / 2) * 100}%,\n            ${MAIN_COLOR} 0%,\n            ${MAIN_COLOR} ${\n        ((1 - textHeightRatio) / 2 + textHeightRatio) * 100\n      }%,\n            transparent 0%\n          )`,\n      backgroundSize: `100% ${px2rem(parseInt(lineHeight) * 1.1)}`,\n      position,\n    });\n    this.addAnimationForElement(ele)",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ps0yE5Qs8P9lJBjpZkpEw",
      "originalText": "\n// 给文本元素使用backgroundImage设置linear-gradient渐变+设置backgroundSize 高度+background-repeat可以设置文本多行灰白相间的效果 \n  const textHeightRatio = 0.6; // Default\n\n    // Add text block class name tag\n    ele.classList.add(SKELETON_TEXT_CLASS);\n\n    Object.assign(ele.style, {\n      backgroundImage: `linear-gradient(\n            transparent ${((1 - textHeightRatio) / 2) * 100}%,\n            ${MAIN_COLOR} 0%,\n            ${MAIN_COLOR} ${\n        ((1 - textHeightRatio) / 2 + textHeightRatio) * 100\n      }%,\n            transparent 0%\n          )`,\n      backgroundSize: `100% ${px2rem(parseInt(lineHeight) * 1.1)}`,\n      position,\n    });\n    this.addAnimationForElement(ele)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ITm2VhYNqRwocCLarqdLs",
      "type": "rectangle",
      "x": 7289.17834647119,
      "y": 4076.6285765225675,
      "width": 1982.6996888674075,
      "height": 943.0597697300639,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDK",
      "roundness": {
        "type": 3
      },
      "seed": 1782300091,
      "version": 149,
      "versionNonce": 1330730331,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "FVGVPJSTBppK6g-_YgQlO"
        }
      ],
      "updated": 1745589500423,
      "link": null,
      "locked": false
    },
    {
      "id": "FVGVPJSTBppK6g-_YgQlO",
      "type": "text",
      "x": 7659.668205553331,
      "y": 4098.158461387599,
      "width": 1241.719970703125,
      "height": 900,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDL",
      "roundness": null,
      "seed": 417441877,
      "version": 624,
      "versionNonce": 252013045,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1745589779368,
      "link": null,
      "locked": false,
      "text": "// 如果是行内元素则不处理\n// 如果是多行，如果是文本居中，则添加2个span元素将左右2边覆盖，如果是居左，则添加一个span将右边覆盖，同理居右的话将左边覆盖\n// 如果是一行的话，则计算出文本的宽度，设置backgroundSize X的百分比，根据textAlign来调整backgroundPositionX的样式\nif(display==='inline'){\n      return\n    }\n    if (lineCount > 1) {\n      this.addTextMask(\n        ele,\n        Object.assign(JSON.parse(JSON.stringify(comStyle)), {\n          lineHeight,\n        })\n      );\n    } else {\n      const textWidth = this.getTextWidth(ele, {\n        fontSize,\n        lineHeight,\n        wordBreak,\n        wordSpacing,\n      });\n      const textWidthPercent =\n        textWidth /\n        (width -\n          parseInt(paddingRight, 10) -\n          parseInt(paddingLeft, 10));\n      ele.style.backgroundSize = `${textWidthPercent * 100}% ${px2rem(parseInt(lineHeight) * 1.1)}`;\n      switch (textAlign) {\n        case \"left\":\n          break;\n        case \"right\":\n          ele.style.backgroundPositionX = \"100%\";\n          break;\n        case \"center\":\n          ele.style.backgroundPositionX = \"50%\";\n      }\n    }",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ITm2VhYNqRwocCLarqdLs",
      "originalText": "// 如果是行内元素则不处理\n// 如果是多行，如果是文本居中，则添加2个span元素将左右2边覆盖，如果是居左，则添加一个span将右边覆盖，同理居右的话将左边覆盖\n// 如果是一行的话，则计算出文本的宽度，设置backgroundSize X的百分比，根据textAlign来调整backgroundPositionX的样式\nif(display==='inline'){\n      return\n    }\n    if (lineCount > 1) {\n      this.addTextMask(\n        ele,\n        Object.assign(JSON.parse(JSON.stringify(comStyle)), {\n          lineHeight,\n        })\n      );\n    } else {\n      const textWidth = this.getTextWidth(ele, {\n        fontSize,\n        lineHeight,\n        wordBreak,\n        wordSpacing,\n      });\n      const textWidthPercent =\n        textWidth /\n        (width -\n          parseInt(paddingRight, 10) -\n          parseInt(paddingLeft, 10));\n      ele.style.backgroundSize = `${textWidthPercent * 100}% ${px2rem(parseInt(lineHeight) * 1.1)}`;\n      switch (textAlign) {\n        case \"left\":\n          break;\n        case \"right\":\n          ele.style.backgroundPositionX = \"100%\";\n          break;\n        case \"center\":\n          ele.style.backgroundPositionX = \"50%\";\n      }\n    }",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "CHTOj_sU29LnYxWF7EjKP",
      "type": "arrow",
      "x": 6726.721678427941,
      "y": 6183.286147033856,
      "width": 484.57954269343645,
      "height": 3316.729461868362,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "bDM",
      "roundness": {
        "type": 2
      },
      "seed": 980496565,
      "version": 114,
      "versionNonce": 1455081755,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1745589804499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          484.57954269343645,
          -3316.729461868362
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "0x_pLPzcK40V5KzDioYt3",
        "focus": 0.9709346636480298,
        "gap": 1
      },
      "endBinding": {
        "elementId": "9yItwfl5LsMyeHCQcfAFU",
        "focus": 0.9535648230024615,
        "gap": 1.7945362821537856
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#fffce8"
  },
  "files": {}
}